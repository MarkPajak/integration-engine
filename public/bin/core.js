!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory(global.async=global.async||{})}(this,function(exports){"use strict";function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function overRest$1(func,start,transform){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}function identity(value){return value}function rest(func,start){return overRest$1(func,start,identity)}function applyEach$1(eachfn){return rest(function(fns,args){var go=initialParams(function(args,callback){var that=this;return eachfn(fns,function(fn,cb){fn.apply(that,args.concat([cb]))},callback)});return args.length?go.apply(this,args):go})}function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag$1),tag=value[symToStringTag$1];try{value[symToStringTag$1]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag$1]=tag:delete value[symToStringTag$1]),result}function objectToString(value){return nativeObjectToString$1.call(value)}function baseGetTag(value){return null==value?void 0===value?undefinedTag:nullTag:(value=Object(value),symToStringTag&&symToStringTag in value?getRawTag(value):objectToString(value))}function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function noop(){}function once(fn){return function(){if(null!==fn){var callFn=fn;fn=null,callFn.apply(this,arguments)}}}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function isObjectLike(value){return null!=value&&"object"==typeof value}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function stubFalse(){return!1}function isIndex(value,length){return length=null==length?MAX_SAFE_INTEGER$1:length,!!length&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}function baseUnary(func){return function(value){return func(value)}}function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty$1.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}function isPrototype(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto$5;return value===proto}function overArg(func,transform){return function(arg){return func(transform(arg))}}function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty$3.call(object,key)&&"constructor"!=key&&result.push(key);return result}function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function createArrayIterator(coll){var i=-1,len=coll.length;return function(){return++i<len?{value:coll[i],key:i}:null}}function createES2015Iterator(iterator){var i=-1;return function(){var item=iterator.next();return item.done?null:(i++,{value:item.value,key:i})}}function createObjectIterator(obj){var okeys=keys(obj),i=-1,len=okeys.length;return function(){var key=okeys[++i];return i<len?{value:obj[key],key:key}:null}}function iterator(coll){if(isArrayLike(coll))return createArrayIterator(coll);var iterator=getIterator(coll);return iterator?createES2015Iterator(iterator):createObjectIterator(coll)}function onlyOnce(fn){return function(){if(null===fn)throw new Error("Callback was already called.");var callFn=fn;fn=null,callFn.apply(this,arguments)}}function _eachOfLimit(limit){return function(obj,iteratee,callback){function iterateeCallback(err,value){if(running-=1,err)done=!0,callback(err);else{if(value===breakLoop||done&&running<=0)return done=!0,callback(null);replenish()}}function replenish(){for(;running<limit&&!done;){var elem=nextElem();if(null===elem)return done=!0,void(running<=0&&callback(null));running+=1,iteratee(elem.value,elem.key,onlyOnce(iterateeCallback))}}if(callback=once(callback||noop),limit<=0||!obj)return callback(null);var nextElem=iterator(obj),done=!1,running=0;replenish()}}function eachOfLimit(coll,limit,iteratee,callback){_eachOfLimit(limit)(coll,iteratee,callback)}function doLimit(fn,limit){return function(iterable,iteratee,callback){return fn(iterable,limit,iteratee,callback)}}function eachOfArrayLike(coll,iteratee,callback){function iteratorCallback(err){err?callback(err):++completed===length&&callback(null)}callback=once(callback||noop);var index=0,completed=0,length=coll.length;for(0===length&&callback(null);index<length;index++)iteratee(coll[index],index,onlyOnce(iteratorCallback))}function doParallel(fn){return function(obj,iteratee,callback){return fn(eachOf,obj,iteratee,callback)}}function _asyncMap(eachfn,arr,iteratee,callback){callback=callback||noop,arr=arr||[];var results=[],counter=0;eachfn(arr,function(value,_,callback){var index=counter++;iteratee(value,function(err,v){results[index]=v,callback(err)})},function(err){callback(err,results)})}function doParallelLimit(fn){return function(obj,limit,iteratee,callback){return fn(_eachOfLimit(limit),obj,iteratee,callback)}}function asyncify(func){return initialParams(function(args,callback){var result;try{result=func.apply(this,args)}catch(e){return callback(e)}isObject(result)&&"function"==typeof result.then?result.then(function(value){callback(null,value)},function(err){callback(err.message?err:new Error(err))}):callback(null,result)})}function arrayEach(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&iteratee(array[index],index,array)!==!1;);return array}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseFindIndex(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIsNaN(value){return value!==value}function strictIndexOf(array,value,fromIndex){for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}function baseIndexOf(array,value,fromIndex){return value===value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}function arrayMap(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&baseGetTag(value)==symbolTag}function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function baseSlice(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),end=end>length?length:end,end<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function castSlice(array,start,end){var length=array.length;return end=void 0===end?length:end,!start&&end>=length?array:baseSlice(array,start,end)}function charsEndIndex(strSymbols,chrSymbols){for(var index=strSymbols.length;index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function charsStartIndex(strSymbols,chrSymbols){for(var index=-1,length=strSymbols.length;++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function asciiToArray(string){return string.split("")}function hasUnicode(string){return reHasUnicode.test(string)}function unicodeToArray(string){return string.match(reUnicode)||[]}function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}function toString(value){return null==value?"":baseToString(value)}function trim(string,chars,guard){if(string=toString(string),string&&(guard||void 0===chars))return string.replace(reTrim,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars),start=charsStartIndex(strSymbols,chrSymbols),end=charsEndIndex(strSymbols,chrSymbols)+1;return castSlice(strSymbols,start,end).join("")}function parseParams(func){return func=func.toString().replace(STRIP_COMMENTS,""),func=func.match(FN_ARGS)[2].replace(" ",""),func=func?func.split(FN_ARG_SPLIT):[],func=func.map(function(arg){return trim(arg.replace(FN_ARG,""))})}function autoInject(tasks,callback){var newTasks={};baseForOwn(tasks,function(taskFn,key){function newTask(results,taskCb){var newArgs=arrayMap(params,function(name){return results[name]});newArgs.push(taskCb),taskFn.apply(null,newArgs)}var params;if(isArray(taskFn))params=taskFn.slice(0,-1),taskFn=taskFn[taskFn.length-1],newTasks[key]=params.concat(params.length>0?newTask:taskFn);else if(1===taskFn.length)newTasks[key]=taskFn;else{if(params=parseParams(taskFn),0===taskFn.length&&0===params.length)throw new Error("autoInject task functions require explicit parameters.");params.pop(),newTasks[key]=params.concat(newTask)}}),auto(newTasks,callback)}function fallback(fn){setTimeout(fn,0)}function wrap(defer){return rest(function(fn,args){defer(function(){fn.apply(null,args)})})}function DLL(){this.head=this.tail=null,this.length=0}function setInitial(dll,node){dll.length=1,dll.head=dll.tail=node}function queue(worker,concurrency,payload){function _insert(data,insertAtFront,callback){if(null!=callback&&"function"!=typeof callback)throw new Error("task callback must be a function");if(q.started=!0,isArray(data)||(data=[data]),0===data.length&&q.idle())return setImmediate$1(function(){q.drain()});for(var i=0,l=data.length;i<l;i++){var item={data:data[i],callback:callback||noop};insertAtFront?q._tasks.unshift(item):q._tasks.push(item)}setImmediate$1(q.process)}function _next(tasks){return rest(function(args){workers-=1;for(var i=0,l=tasks.length;i<l;i++){var task=tasks[i],index=baseIndexOf(workersList,task,0);index>=0&&workersList.splice(index),task.callback.apply(task,args),null!=args[0]&&q.error(args[0],task.data)}workers<=q.concurrency-q.buffer&&q.unsaturated(),q.idle()&&q.drain(),q.process()})}if(null==concurrency)concurrency=1;else if(0===concurrency)throw new Error("Concurrency must not be zero");var workers=0,workersList=[],q={_tasks:new DLL,concurrency:concurrency,payload:payload,saturated:noop,unsaturated:noop,buffer:concurrency/4,empty:noop,drain:noop,error:noop,started:!1,paused:!1,push:function(data,callback){_insert(data,!1,callback)},kill:function(){q.drain=noop,q._tasks.empty()},unshift:function(data,callback){_insert(data,!0,callback)},process:function(){for(;!q.paused&&workers<q.concurrency&&q._tasks.length;){var tasks=[],data=[],l=q._tasks.length;q.payload&&(l=Math.min(l,q.payload));for(var i=0;i<l;i++){var node=q._tasks.shift();tasks.push(node),data.push(node.data)}0===q._tasks.length&&q.empty(),workers+=1,workersList.push(tasks[0]),workers===q.concurrency&&q.saturated();var cb=onlyOnce(_next(tasks));worker(data,cb)}},length:function(){return q._tasks.length},running:function(){return workers},workersList:function(){return workersList},idle:function(){return q._tasks.length+workers===0},pause:function(){q.paused=!0},resume:function(){if(q.paused!==!1){q.paused=!1;for(var resumeCount=Math.min(q.concurrency,q._tasks.length),w=1;w<=resumeCount;w++)setImmediate$1(q.process)}}};return q}function cargo(worker,payload){return queue(worker,1,payload)}function reduce(coll,memo,iteratee,callback){callback=once(callback||noop),eachOfSeries(coll,function(x,i,callback){iteratee(memo,x,function(err,v){memo=v,callback(err)})},function(err){callback(err,memo)})}function concat$1(eachfn,arr,fn,callback){var result=[];eachfn(arr,function(x,index,cb){fn(x,function(err,y){result=result.concat(y||[]),cb(err)})},function(err){callback(err,result)})}function doSeries(fn){return function(obj,iteratee,callback){return fn(eachOfSeries,obj,iteratee,callback)}}function _createTester(eachfn,check,getResult){return function(arr,limit,iteratee,cb){function done(){cb&&cb(null,getResult(!1))}function wrappedIteratee(x,_,callback){return cb?void iteratee(x,function(err,v){cb&&(err||check(v))?(err?cb(err):cb(err,getResult(!0,x)),cb=iteratee=!1,callback(err,breakLoop)):callback()}):callback()}arguments.length>3?(cb=cb||noop,eachfn(arr,limit,wrappedIteratee,done)):(cb=iteratee,cb=cb||noop,iteratee=limit,eachfn(arr,wrappedIteratee,done))}}function _findGetResult(v,x){return x}function consoleFunc(name){return rest(function(fn,args){fn.apply(null,args.concat([rest(function(err,args){"object"==typeof console&&(err?console.error&&console.error(err):console[name]&&arrayEach(args,function(x){console[name](x)}))})]))})}function doDuring(fn,test,callback){function check(err,truth){return err?callback(err):truth?void fn(next):callback(null)}callback=onlyOnce(callback||noop);var next=rest(function(err,args){return err?callback(err):(args.push(check),void test.apply(this,args))});check(null,!0)}function doWhilst(iteratee,test,callback){callback=onlyOnce(callback||noop);var next=rest(function(err,args){return err?callback(err):test.apply(this,args)?iteratee(next):void callback.apply(null,[null].concat(args))});iteratee(next)}function doUntil(fn,test,callback){doWhilst(fn,function(){return!test.apply(this,arguments)},callback)}function during(test,fn,callback){function next(err){return err?callback(err):void test(check)}function check(err,truth){return err?callback(err):truth?void fn(next):callback(null)}callback=onlyOnce(callback||noop),test(check)}function _withoutIndex(iteratee){return function(value,index,callback){return iteratee(value,callback)}}function eachLimit(coll,iteratee,callback){eachOf(coll,_withoutIndex(iteratee),callback)}function eachLimit$1(coll,limit,iteratee,callback){_eachOfLimit(limit)(coll,_withoutIndex(iteratee),callback)}function ensureAsync(fn){return initialParams(function(args,callback){var sync=!0;args.push(function(){var innerArgs=arguments;sync?setImmediate$1(function(){callback.apply(null,innerArgs)}):callback.apply(null,innerArgs)}),fn.apply(this,args),sync=!1})}function notId(v){return!v}function baseProperty(key){return function(object){return null==object?void 0:object[key]}}function filterArray(eachfn,arr,iteratee,callback){var truthValues=new Array(arr.length);eachfn(arr,function(x,index,callback){iteratee(x,function(err,v){truthValues[index]=!!v,callback(err)})},function(err){if(err)return callback(err);for(var results=[],i=0;i<arr.length;i++)truthValues[i]&&results.push(arr[i]);callback(null,results)})}function filterGeneric(eachfn,coll,iteratee,callback){var results=[];eachfn(coll,function(x,index,callback){iteratee(x,function(err,v){err?callback(err):(v&&results.push({index:index,value:x}),callback())})},function(err){err?callback(err):callback(null,arrayMap(results.sort(function(a,b){return a.index-b.index}),baseProperty("value")))})}function _filter(eachfn,coll,iteratee,callback){var filter=isArrayLike(coll)?filterArray:filterGeneric;filter(eachfn,coll,iteratee,callback||noop)}function forever(fn,errback){function next(err){return err?done(err):void task(next)}var done=onlyOnce(errback||noop),task=ensureAsync(fn);next()}function mapValuesLimit(obj,limit,iteratee,callback){callback=once(callback||noop);var newObj={};eachOfLimit(obj,limit,function(val,key,next){iteratee(val,key,function(err,result){return err?next(err):(newObj[key]=result,void next())})},function(err){callback(err,newObj)})}function has(obj,key){return key in obj}function memoize(fn,hasher){var memo=Object.create(null),queues=Object.create(null);hasher=hasher||identity;var memoized=initialParams(function(args,callback){var key=hasher.apply(null,args);has(memo,key)?setImmediate$1(function(){callback.apply(null,memo[key])}):has(queues,key)?queues[key].push(callback):(queues[key]=[callback],fn.apply(null,args.concat([rest(function(args){memo[key]=args;var q=queues[key];delete queues[key];for(var i=0,l=q.length;i<l;i++)q[i].apply(null,args)})])))});return memoized.memo=memo,memoized.unmemoized=fn,memoized}function _parallel(eachfn,tasks,callback){callback=callback||noop;var results=isArrayLike(tasks)?[]:{};eachfn(tasks,function(task,key,callback){task(rest(function(err,args){args.length<=1&&(args=args[0]),results[key]=args,callback(err)}))},function(err){callback(err,results)})}function parallelLimit(tasks,callback){_parallel(eachOf,tasks,callback)}function parallelLimit$1(tasks,limit,callback){_parallel(_eachOfLimit(limit),tasks,callback)}function race(tasks,callback){if(callback=once(callback||noop),!isArray(tasks))return callback(new TypeError("First argument to race must be an array of functions"));if(!tasks.length)return callback();for(var i=0,l=tasks.length;i<l;i++)tasks[i](callback)}function reduceRight(array,memo,iteratee,callback){var reversed=slice.call(array).reverse();reduce(reversed,memo,iteratee,callback)}function reflect(fn){return initialParams(function(args,reflectCallback){return args.push(rest(function(err,cbArgs){if(err)reflectCallback(null,{error:err});else{var value=null;1===cbArgs.length?value=cbArgs[0]:cbArgs.length>1&&(value=cbArgs),reflectCallback(null,{value:value})}})),fn.apply(this,args)})}function reject$1(eachfn,arr,iteratee,callback){_filter(eachfn,arr,function(value,cb){iteratee(value,function(err,v){cb(err,!v)})},callback)}function reflectAll(tasks){var results;return isArray(tasks)?results=arrayMap(tasks,reflect):(results={},baseForOwn(tasks,function(task,key){results[key]=reflect.call(this,task)})),results}function constant$1(value){return function(){return value}}function retry(opts,task,callback){function parseTimes(acc,t){if("object"==typeof t)acc.times=+t.times||DEFAULT_TIMES,acc.intervalFunc="function"==typeof t.interval?t.interval:constant$1(+t.interval||DEFAULT_INTERVAL),acc.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");acc.times=+t||DEFAULT_TIMES}}function retryAttempt(){task(function(err){err&&attempt++<options.times&&("function"!=typeof options.errorFilter||options.errorFilter(err))?setTimeout(retryAttempt,options.intervalFunc(attempt)):callback.apply(null,arguments)})}var DEFAULT_TIMES=5,DEFAULT_INTERVAL=0,options={times:DEFAULT_TIMES,intervalFunc:constant$1(DEFAULT_INTERVAL)};if(arguments.length<3&&"function"==typeof opts?(callback=task||noop,task=opts):(parseTimes(options,opts),callback=callback||noop),"function"!=typeof task)throw new Error("Invalid arguments for async.retry");var attempt=1;retryAttempt()}function series(tasks,callback){_parallel(eachOfSeries,tasks,callback)}function sortBy(coll,iteratee,callback){function comparator(left,right){var a=left.criteria,b=right.criteria;return a<b?-1:a>b?1:0}map(coll,function(x,callback){iteratee(x,function(err,criteria){return err?callback(err):void callback(null,{value:x,criteria:criteria})})},function(err,results){return err?callback(err):void callback(null,arrayMap(results.sort(comparator),baseProperty("value")))})}function timeout(asyncFn,milliseconds,info){function injectedCallback(){timedOut||(originalCallback.apply(null,arguments),clearTimeout(timer))}function timeoutCallback(){var name=asyncFn.name||"anonymous",error=new Error('Callback function "'+name+'" timed out.');error.code="ETIMEDOUT",info&&(error.info=info),timedOut=!0,originalCallback(error)}var originalCallback,timer,timedOut=!1;return initialParams(function(args,origCallback){originalCallback=origCallback,timer=setTimeout(timeoutCallback,milliseconds),asyncFn.apply(null,args.concat(injectedCallback))})}function baseRange(start,end,step,fromRight){for(var index=-1,length=nativeMax$1(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result}function timeLimit(count,limit,iteratee,callback){mapLimit(baseRange(0,count,1),limit,iteratee,callback)}function transform(coll,accumulator,iteratee,callback){3===arguments.length&&(callback=iteratee,iteratee=accumulator,accumulator=isArray(coll)?[]:{}),callback=once(callback||noop),eachOf(coll,function(v,k,cb){iteratee(accumulator,v,k,cb)},function(err){callback(err,accumulator)})}function unmemoize(fn){return function(){return(fn.unmemoized||fn).apply(null,arguments)}}function whilst(test,iteratee,callback){if(callback=onlyOnce(callback||noop),!test())return callback(null);var next=rest(function(err,args){return err?callback(err):test()?iteratee(next):void callback.apply(null,[null].concat(args))});iteratee(next)}function until(test,fn,callback){whilst(function(){return!test.apply(this,arguments)},fn,callback)}var nativeMax=Math.max,initialParams=function(fn){return rest(function(args){var callback=args.pop();fn.call(this,args,callback)})},freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0,objectProto$1=Object.prototype,nativeObjectToString$1=objectProto$1.toString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0,asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]",MAX_SAFE_INTEGER=9007199254740991,iteratorSymbol="function"==typeof Symbol&&Symbol.iterator,getIterator=function(coll){return iteratorSymbol&&coll[iteratorSymbol]&&coll[iteratorSymbol]()},argsTag="[object Arguments]",objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty,propertyIsEnumerable=objectProto$3.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty$2.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")},isArray=Array.isArray,freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer=moduleExports?root.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/,argsTag$1="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag$1="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag$1]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var _defer,freeExports$1="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=function(){try{return freeProcess&&freeProcess.binding("util")}catch(e){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$2=Object.prototype,hasOwnProperty$1=objectProto$2.hasOwnProperty,objectProto$5=Object.prototype,nativeKeys=overArg(Object.keys,Object),objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty,breakLoop={},eachOfGeneric=doLimit(eachOfLimit,1/0),eachOf=function(coll,iteratee,callback){var eachOfImplementation=isArrayLike(coll)?eachOfArrayLike:eachOfGeneric;eachOfImplementation(coll,iteratee,callback)},map=doParallel(_asyncMap),applyEach=applyEach$1(map),mapLimit=doParallelLimit(_asyncMap),mapSeries=doLimit(mapLimit,1),applyEachSeries=applyEach$1(mapSeries),apply$2=rest(function(fn,args){return rest(function(callArgs){return fn.apply(null,args.concat(callArgs))})}),baseFor=createBaseFor(),auto=function(tasks,concurrency,callback){function enqueueTask(key,task){readyTasks.push(function(){runTask(key,task)})}function processQueue(){if(0===readyTasks.length&&0===runningTasks)return callback(null,results);for(;readyTasks.length&&runningTasks<concurrency;){var run=readyTasks.shift();run()}}function addListener(taskName,fn){var taskListeners=listeners[taskName];taskListeners||(taskListeners=listeners[taskName]=[]),taskListeners.push(fn)}function taskComplete(taskName){var taskListeners=listeners[taskName]||[];arrayEach(taskListeners,function(fn){fn()}),processQueue()}function runTask(key,task){if(!hasError){var taskCallback=onlyOnce(rest(function(err,args){if(runningTasks--,args.length<=1&&(args=args[0]),err){var safeResults={};baseForOwn(results,function(val,rkey){safeResults[rkey]=val}),safeResults[key]=args,hasError=!0,listeners=[],callback(err,safeResults)}else results[key]=args,taskComplete(key)}));runningTasks++;var taskFn=task[task.length-1];task.length>1?taskFn(results,taskCallback):taskFn(taskCallback)}}function checkForDeadlocks(){for(var currentTask,counter=0;readyToCheck.length;)currentTask=readyToCheck.pop(),counter++,arrayEach(getDependents(currentTask),function(dependent){0===--uncheckedDependencies[dependent]&&readyToCheck.push(dependent)});if(counter!==numTasks)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function getDependents(taskName){var result=[];return baseForOwn(tasks,function(task,key){isArray(task)&&baseIndexOf(task,taskName,0)>=0&&result.push(key)}),result}"function"==typeof concurrency&&(callback=concurrency,concurrency=null),callback=once(callback||noop);var keys$$1=keys(tasks),numTasks=keys$$1.length;if(!numTasks)return callback(null);concurrency||(concurrency=numTasks);var results={},runningTasks=0,hasError=!1,listeners={},readyTasks=[],readyToCheck=[],uncheckedDependencies={};baseForOwn(tasks,function(task,key){if(!isArray(task))return enqueueTask(key,[task]),void readyToCheck.push(key);var dependencies=task.slice(0,task.length-1),remainingDependencies=dependencies.length;return 0===remainingDependencies?(enqueueTask(key,task),void readyToCheck.push(key)):(uncheckedDependencies[key]=remainingDependencies,void arrayEach(dependencies,function(dependencyName){if(!tasks[dependencyName])throw new Error("async.auto task `"+key+"` has a non-existent dependency in "+dependencies.join(", "));addListener(dependencyName,function(){remainingDependencies--,0===remainingDependencies&&enqueueTask(key,task)})}))}),checkForDeadlocks(),processQueue()},symbolTag="[object Symbol]",INFINITY=1/0,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f\\ufe20-\\ufe23",rsComboSymbolsRange="\\u20d0-\\u20f0",rsVarRange="\\ufe0e\\ufe0f",rsZWJ="\\u200d",reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboMarksRange+rsComboSymbolsRange+rsVarRange+"]"),rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f\\ufe20-\\ufe23",rsComboSymbolsRange$1="\\u20d0-\\u20f0",rsVarRange$1="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange$1+"]",rsCombo="["+rsComboMarksRange$1+rsComboSymbolsRange$1+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange$1+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ$1="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange$1+"]?",rsOptJoin="(?:"+rsZWJ$1+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g"),reTrim=/^\s+|\s+$/g,FN_ARGS=/^(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,FN_ARG_SPLIT=/,/,FN_ARG=/(=.+)?(\s*)$/,STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,hasSetImmediate="function"==typeof setImmediate&&setImmediate,hasNextTick="object"==typeof process&&"function"==typeof process.nextTick;_defer=hasSetImmediate?setImmediate:hasNextTick?process.nextTick:fallback;var setImmediate$1=wrap(_defer);DLL.prototype.removeLink=function(node){return node.prev?node.prev.next=node.next:this.head=node.next,node.next?node.next.prev=node.prev:this.tail=node.prev,node.prev=node.next=null,this.length-=1,node},DLL.prototype.empty=DLL,DLL.prototype.insertAfter=function(node,newNode){newNode.prev=node,newNode.next=node.next,node.next?node.next.prev=newNode:this.tail=newNode,node.next=newNode,this.length+=1},DLL.prototype.insertBefore=function(node,newNode){newNode.prev=node.prev,newNode.next=node,node.prev?node.prev.next=newNode:this.head=newNode,node.prev=newNode,this.length+=1;
},DLL.prototype.unshift=function(node){this.head?this.insertBefore(this.head,node):setInitial(this,node)},DLL.prototype.push=function(node){this.tail?this.insertAfter(this.tail,node):setInitial(this,node)},DLL.prototype.shift=function(){return this.head&&this.removeLink(this.head)},DLL.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)};var _defer$1,eachOfSeries=doLimit(eachOfLimit,1),seq$1=rest(function(functions){return rest(function(args){var that=this,cb=args[args.length-1];"function"==typeof cb?args.pop():cb=noop,reduce(functions,args,function(newargs,fn,cb){fn.apply(that,newargs.concat([rest(function(err,nextargs){cb(err,nextargs)})]))},function(err,results){cb.apply(that,[err].concat(results))})})}),compose=rest(function(args){return seq$1.apply(null,args.reverse())}),concat=doParallel(concat$1),concatSeries=doSeries(concat$1),constant=rest(function(values){var args=[null].concat(values);return initialParams(function(ignoredArgs,callback){return callback.apply(this,args)})}),detect=_createTester(eachOf,identity,_findGetResult),detectLimit=_createTester(eachOfLimit,identity,_findGetResult),detectSeries=_createTester(eachOfSeries,identity,_findGetResult),dir=consoleFunc("dir"),eachSeries=doLimit(eachLimit$1,1),every=_createTester(eachOf,notId,notId),everyLimit=_createTester(eachOfLimit,notId,notId),everySeries=doLimit(everyLimit,1),filter=doParallel(_filter),filterLimit=doParallelLimit(_filter),filterSeries=doLimit(filterLimit,1),log=consoleFunc("log"),mapValues=doLimit(mapValuesLimit,1/0),mapValuesSeries=doLimit(mapValuesLimit,1);_defer$1=hasNextTick?process.nextTick:hasSetImmediate?setImmediate:fallback;var nextTick=wrap(_defer$1),queue$1=function(worker,concurrency){return queue(function(items,cb){worker(items[0],cb)},concurrency,1)},priorityQueue=function(worker,concurrency){var q=queue$1(worker,concurrency);return q.push=function(data,priority,callback){if(null==callback&&(callback=noop),"function"!=typeof callback)throw new Error("task callback must be a function");if(q.started=!0,isArray(data)||(data=[data]),0===data.length)return setImmediate$1(function(){q.drain()});priority=priority||0;for(var nextNode=q._tasks.head;nextNode&&priority>=nextNode.priority;)nextNode=nextNode.next;for(var i=0,l=data.length;i<l;i++){var item={data:data[i],priority:priority,callback:callback};nextNode?q._tasks.insertBefore(nextNode,item):q._tasks.push(item)}setImmediate$1(q.process)},delete q.unshift,q},slice=Array.prototype.slice,reject=doParallel(reject$1),rejectLimit=doParallelLimit(reject$1),rejectSeries=doLimit(rejectLimit,1),retryable=function(opts,task){return task||(task=opts,opts=null),initialParams(function(args,callback){function taskFn(cb){task.apply(null,args.concat([cb]))}opts?retry(opts,taskFn,callback):retry(taskFn,callback)})},some=_createTester(eachOf,Boolean,identity),someLimit=_createTester(eachOfLimit,Boolean,identity),someSeries=doLimit(someLimit,1),nativeCeil=Math.ceil,nativeMax$1=Math.max,times=doLimit(timeLimit,1/0),timesSeries=doLimit(timeLimit,1),waterfall=function(tasks,callback){function nextTask(args){if(taskIndex===tasks.length)return callback.apply(null,[null].concat(args));var taskCallback=onlyOnce(rest(function(err,args){return err?callback.apply(null,[err].concat(args)):void nextTask(args)}));args.push(taskCallback);var task=tasks[taskIndex++];task.apply(null,args)}if(callback=once(callback||noop),!isArray(tasks))return callback(new Error("First argument to waterfall must be an array of functions"));if(!tasks.length)return callback();var taskIndex=0;nextTask([])},index={applyEach:applyEach,applyEachSeries:applyEachSeries,apply:apply$2,asyncify:asyncify,auto:auto,autoInject:autoInject,cargo:cargo,compose:compose,concat:concat,concatSeries:concatSeries,constant:constant,detect:detect,detectLimit:detectLimit,detectSeries:detectSeries,dir:dir,doDuring:doDuring,doUntil:doUntil,doWhilst:doWhilst,during:during,each:eachLimit,eachLimit:eachLimit$1,eachOf:eachOf,eachOfLimit:eachOfLimit,eachOfSeries:eachOfSeries,eachSeries:eachSeries,ensureAsync:ensureAsync,every:every,everyLimit:everyLimit,everySeries:everySeries,filter:filter,filterLimit:filterLimit,filterSeries:filterSeries,forever:forever,log:log,map:map,mapLimit:mapLimit,mapSeries:mapSeries,mapValues:mapValues,mapValuesLimit:mapValuesLimit,mapValuesSeries:mapValuesSeries,memoize:memoize,nextTick:nextTick,parallel:parallelLimit,parallelLimit:parallelLimit$1,priorityQueue:priorityQueue,queue:queue$1,race:race,reduce:reduce,reduceRight:reduceRight,reflect:reflect,reflectAll:reflectAll,reject:reject,rejectLimit:rejectLimit,rejectSeries:rejectSeries,retry:retry,retryable:retryable,seq:seq$1,series:series,setImmediate:setImmediate$1,some:some,someLimit:someLimit,someSeries:someSeries,sortBy:sortBy,timeout:timeout,times:times,timesLimit:timeLimit,timesSeries:timesSeries,transform:transform,unmemoize:unmemoize,until:until,waterfall:waterfall,whilst:whilst,all:every,any:some,forEach:eachLimit,forEachSeries:eachSeries,forEachLimit:eachLimit$1,forEachOf:eachOf,forEachOfSeries:eachOfSeries,forEachOfLimit:eachOfLimit,inject:reduce,foldl:reduce,foldr:reduceRight,select:filter,selectLimit:filterLimit,selectSeries:filterSeries,wrapSync:asyncify};exports["default"]=index,exports.applyEach=applyEach,exports.applyEachSeries=applyEachSeries,exports.apply=apply$2,exports.asyncify=asyncify,exports.auto=auto,exports.autoInject=autoInject,exports.cargo=cargo,exports.compose=compose,exports.concat=concat,exports.concatSeries=concatSeries,exports.constant=constant,exports.detect=detect,exports.detectLimit=detectLimit,exports.detectSeries=detectSeries,exports.dir=dir,exports.doDuring=doDuring,exports.doUntil=doUntil,exports.doWhilst=doWhilst,exports.during=during,exports.each=eachLimit,exports.eachLimit=eachLimit$1,exports.eachOf=eachOf,exports.eachOfLimit=eachOfLimit,exports.eachOfSeries=eachOfSeries,exports.eachSeries=eachSeries,exports.ensureAsync=ensureAsync,exports.every=every,exports.everyLimit=everyLimit,exports.everySeries=everySeries,exports.filter=filter,exports.filterLimit=filterLimit,exports.filterSeries=filterSeries,exports.forever=forever,exports.log=log,exports.map=map,exports.mapLimit=mapLimit,exports.mapSeries=mapSeries,exports.mapValues=mapValues,exports.mapValuesLimit=mapValuesLimit,exports.mapValuesSeries=mapValuesSeries,exports.memoize=memoize,exports.nextTick=nextTick,exports.parallel=parallelLimit,exports.parallelLimit=parallelLimit$1,exports.priorityQueue=priorityQueue,exports.queue=queue$1,exports.race=race,exports.reduce=reduce,exports.reduceRight=reduceRight,exports.reflect=reflect,exports.reflectAll=reflectAll,exports.reject=reject,exports.rejectLimit=rejectLimit,exports.rejectSeries=rejectSeries,exports.retry=retry,exports.retryable=retryable,exports.seq=seq$1,exports.series=series,exports.setImmediate=setImmediate$1,exports.some=some,exports.someLimit=someLimit,exports.someSeries=someSeries,exports.sortBy=sortBy,exports.timeout=timeout,exports.times=times,exports.timesLimit=timeLimit,exports.timesSeries=timesSeries,exports.transform=transform,exports.unmemoize=unmemoize,exports.until=until,exports.waterfall=waterfall,exports.whilst=whilst,exports.all=every,exports.allLimit=everyLimit,exports.allSeries=everySeries,exports.any=some,exports.anyLimit=someLimit,exports.anySeries=someSeries,exports.find=detect,exports.findLimit=detectLimit,exports.findSeries=detectSeries,exports.forEach=eachLimit,exports.forEachSeries=eachSeries,exports.forEachLimit=eachLimit$1,exports.forEachOf=eachOf,exports.forEachOfSeries=eachOfSeries,exports.forEachOfLimit=eachOfLimit,exports.inject=reduce,exports.foldl=reduce,exports.foldr=reduceRight,exports.select=filter,exports.selectLimit=filterLimit,exports.selectSeries=filterSeries,exports.wrapSync=asyncify,Object.defineProperty(exports,"__esModule",{value:!0})})}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../node_modules/async/dist/async.js","/../../node_modules/async/dist")},{b55mWE:4,buffer:3}],2:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(exports){"use strict";function decode(elt){var code=elt.charCodeAt(0);return code===PLUS||code===PLUS_URL_SAFE?62:code===SLASH||code===SLASH_URL_SAFE?63:code<NUMBER?-1:code<NUMBER+10?code-NUMBER+26+26:code<UPPER+26?code-UPPER:code<LOWER+26?code-LOWER+26:void 0}function b64ToByteArray(b64){function push(v){arr[L++]=v}var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var len=b64.length;placeHolders="="===b64.charAt(len-2)?2:"="===b64.charAt(len-1)?1:0,arr=new Arr(3*b64.length/4-placeHolders),l=placeHolders>0?b64.length-4:b64.length;var L=0;for(i=0,j=0;i<l;i+=4,j+=3)tmp=decode(b64.charAt(i))<<18|decode(b64.charAt(i+1))<<12|decode(b64.charAt(i+2))<<6|decode(b64.charAt(i+3)),push((16711680&tmp)>>16),push((65280&tmp)>>8),push(255&tmp);return 2===placeHolders?(tmp=decode(b64.charAt(i))<<2|decode(b64.charAt(i+1))>>4,push(255&tmp)):1===placeHolders&&(tmp=decode(b64.charAt(i))<<10|decode(b64.charAt(i+1))<<4|decode(b64.charAt(i+2))>>2,push(tmp>>8&255),push(255&tmp)),arr}function uint8ToBase64(uint8){function encode(num){return lookup.charAt(num)}function tripletToBase64(num){return encode(num>>18&63)+encode(num>>12&63)+encode(num>>6&63)+encode(63&num)}var i,temp,length,extraBytes=uint8.length%3,output="";for(i=0,length=uint8.length-extraBytes;i<length;i+=3)temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output+=tripletToBase64(temp);switch(extraBytes){case 1:temp=uint8[uint8.length-1],output+=encode(temp>>2),output+=encode(temp<<4&63),output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1],output+=encode(temp>>10),output+=encode(temp>>4&63),output+=encode(temp<<2&63),output+="="}return output}var Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,PLUS="+".charCodeAt(0),SLASH="/".charCodeAt(0),NUMBER="0".charCodeAt(0),LOWER="a".charCodeAt(0),UPPER="A".charCodeAt(0),PLUS_URL_SAFE="-".charCodeAt(0),SLASH_URL_SAFE="_".charCodeAt(0);exports.toByteArray=b64ToByteArray,exports.fromByteArray=uint8ToBase64}("undefined"==typeof exports?this.base64js={}:exports)}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/../../node_modules/gulp-browserify/node_modules/base64-js/lib")},{b55mWE:4,buffer:3}],3:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){function Buffer(subject,encoding,noZero){if(!(this instanceof Buffer))return new Buffer(subject,encoding,noZero);var type=typeof subject;if("base64"===encoding&&"string"===type)for(subject=stringtrim(subject);subject.length%4!==0;)subject+="=";var length;if("number"===type)length=coerce(subject);else if("string"===type)length=Buffer.byteLength(subject,encoding);else{if("object"!==type)throw new Error("First argument needs to be a number, array or string.");length=coerce(subject.length)}var buf;Buffer._useTypedArrays?buf=Buffer._augment(new Uint8Array(length)):(buf=this,buf.length=length,buf._isBuffer=!0);var i;if(Buffer._useTypedArrays&&"number"==typeof subject.byteLength)buf._set(subject);else if(isArrayish(subject))for(i=0;i<length;i++)Buffer.isBuffer(subject)?buf[i]=subject.readUInt8(i):buf[i]=subject[i];else if("string"===type)buf.write(subject,0,encoding);else if("number"===type&&!Buffer._useTypedArrays&&!noZero)for(i=0;i<length;i++)buf[i]=0;return buf}function _hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length),length>remaining&&(length=remaining)):length=remaining;var strLen=string.length;assert(strLen%2===0,"Invalid hex string"),length>strLen/2&&(length=strLen/2);for(var i=0;i<length;i++){var byte=parseInt(string.substr(2*i,2),16);assert(!isNaN(byte),"Invalid hex string"),buf[offset+i]=byte}return Buffer._charsWritten=2*i,i}function _utf8Write(buf,string,offset,length){var charsWritten=Buffer._charsWritten=blitBuffer(utf8ToBytes(string),buf,offset,length);return charsWritten}function _asciiWrite(buf,string,offset,length){var charsWritten=Buffer._charsWritten=blitBuffer(asciiToBytes(string),buf,offset,length);return charsWritten}function _binaryWrite(buf,string,offset,length){return _asciiWrite(buf,string,offset,length)}function _base64Write(buf,string,offset,length){var charsWritten=Buffer._charsWritten=blitBuffer(base64ToBytes(string),buf,offset,length);return charsWritten}function _utf16leWrite(buf,string,offset,length){var charsWritten=Buffer._charsWritten=blitBuffer(utf16leToBytes(string),buf,offset,length);return charsWritten}function _base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function _utf8Slice(buf,start,end){var res="",tmp="";end=Math.min(buf.length,end);for(var i=start;i<end;i++)buf[i]<=127?(res+=decodeUtf8Char(tmp)+String.fromCharCode(buf[i]),tmp=""):tmp+="%"+buf[i].toString(16);return res+decodeUtf8Char(tmp)}function _asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;i++)ret+=String.fromCharCode(buf[i]);return ret}function _binarySlice(buf,start,end){return _asciiSlice(buf,start,end)}function _hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;i++)out+=toHex(buf[i]);return out}function _utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function _readUInt16(buf,offset,littleEndian,noAssert){noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+1<buf.length,"Trying to read beyond buffer length"));var len=buf.length;if(!(offset>=len)){var val;return littleEndian?(val=buf[offset],offset+1<len&&(val|=buf[offset+1]<<8)):(val=buf[offset]<<8,offset+1<len&&(val|=buf[offset+1])),val}}function _readUInt32(buf,offset,littleEndian,noAssert){noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+3<buf.length,"Trying to read beyond buffer length"));var len=buf.length;if(!(offset>=len)){var val;return littleEndian?(offset+2<len&&(val=buf[offset+2]<<16),offset+1<len&&(val|=buf[offset+1]<<8),val|=buf[offset],offset+3<len&&(val+=buf[offset+3]<<24>>>0)):(offset+1<len&&(val=buf[offset+1]<<16),offset+2<len&&(val|=buf[offset+2]<<8),offset+3<len&&(val|=buf[offset+3]),val+=buf[offset]<<24>>>0),val}}function _readInt16(buf,offset,littleEndian,noAssert){noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+1<buf.length,"Trying to read beyond buffer length"));var len=buf.length;if(!(offset>=len)){var val=_readUInt16(buf,offset,littleEndian,!0),neg=32768&val;return neg?(65535-val+1)*-1:val}}function _readInt32(buf,offset,littleEndian,noAssert){noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+3<buf.length,"Trying to read beyond buffer length"));var len=buf.length;if(!(offset>=len)){var val=_readUInt32(buf,offset,littleEndian,!0),neg=2147483648&val;return neg?(4294967295-val+1)*-1:val}}function _readFloat(buf,offset,littleEndian,noAssert){return noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(offset+3<buf.length,"Trying to read beyond buffer length")),ieee754.read(buf,offset,littleEndian,23,4)}function _readDouble(buf,offset,littleEndian,noAssert){return noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(offset+7<buf.length,"Trying to read beyond buffer length")),ieee754.read(buf,offset,littleEndian,52,8)}function _writeUInt16(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+1<buf.length,"trying to write beyond buffer length"),verifuint(value,65535));var len=buf.length;if(!(offset>=len))for(var i=0,j=Math.min(len-offset,2);i<j;i++)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function _writeUInt32(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+3<buf.length,"trying to write beyond buffer length"),verifuint(value,4294967295));var len=buf.length;if(!(offset>=len))for(var i=0,j=Math.min(len-offset,4);i<j;i++)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function _writeInt16(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+1<buf.length,"Trying to write beyond buffer length"),verifsint(value,32767,-32768));var len=buf.length;offset>=len||(value>=0?_writeUInt16(buf,value,offset,littleEndian,noAssert):_writeUInt16(buf,65535+value+1,offset,littleEndian,noAssert))}function _writeInt32(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+3<buf.length,"Trying to write beyond buffer length"),verifsint(value,2147483647,-2147483648));var len=buf.length;offset>=len||(value>=0?_writeUInt32(buf,value,offset,littleEndian,noAssert):_writeUInt32(buf,4294967295+value+1,offset,littleEndian,noAssert))}function _writeFloat(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+3<buf.length,"Trying to write beyond buffer length"),verifIEEE754(value,3.4028234663852886e38,-3.4028234663852886e38));var len=buf.length;offset>=len||ieee754.write(buf,value,offset,littleEndian,23,4)}function _writeDouble(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+7<buf.length,"Trying to write beyond buffer length"),verifIEEE754(value,1.7976931348623157e308,-1.7976931348623157e308));var len=buf.length;offset>=len||ieee754.write(buf,value,offset,littleEndian,52,8)}function stringtrim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}function clamp(index,len,defaultValue){return"number"!=typeof index?defaultValue:(index=~~index,index>=len?len:index>=0?index:(index+=len,index>=0?index:0))}function coerce(length){return length=~~Math.ceil(+length),length<0?0:length}function isArray(subject){return(Array.isArray||function(subject){return"[object Array]"===Object.prototype.toString.call(subject)})(subject)}function isArrayish(subject){return isArray(subject)||Buffer.isBuffer(subject)||subject&&"object"==typeof subject&&"number"==typeof subject.length}function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(str){for(var byteArray=[],i=0;i<str.length;i++){var b=str.charCodeAt(i);if(b<=127)byteArray.push(str.charCodeAt(i));else{var start=i;b>=55296&&b<=57343&&i++;for(var h=encodeURIComponent(str.slice(start,i+1)).substr(1).split("%"),j=0;j<h.length;j++)byteArray.push(parseInt(h[j],16))}}return byteArray}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;i++)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str){for(var c,hi,lo,byteArray=[],i=0;i<str.length;i++)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(str)}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);i++)dst[i+offset]=src[i];return i}function decodeUtf8Char(str){try{return decodeURIComponent(str)}catch(err){return String.fromCharCode(65533)}}function verifuint(value,max){assert("number"==typeof value,"cannot write a non-number as a number"),assert(value>=0,"specified a negative value for writing an unsigned value"),assert(value<=max,"value is larger than maximum value for type"),assert(Math.floor(value)===value,"value has a fractional component")}function verifsint(value,max,min){assert("number"==typeof value,"cannot write a non-number as a number"),assert(value<=max,"value larger than maximum allowed value"),assert(value>=min,"value smaller than minimum allowed value"),assert(Math.floor(value)===value,"value has a fractional component")}function verifIEEE754(value,max,min){assert("number"==typeof value,"cannot write a non-number as a number"),assert(value<=max,"value larger than maximum allowed value"),assert(value>=min,"value smaller than minimum allowed value")}function assert(test,message){if(!test)throw new Error(message||"Failed assertion")}var base64=require("base64-js"),ieee754=require("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=Buffer,exports.INSPECT_MAX_BYTES=50,Buffer.poolSize=8192,Buffer._useTypedArrays=function(){try{var buf=new ArrayBuffer(0),arr=new Uint8Array(buf);return arr.foo=function(){return 42},42===arr.foo()&&"function"==typeof arr.subarray}catch(e){return!1}}(),Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.isBuffer=function(b){return!(null===b||void 0===b||!b._isBuffer)},Buffer.byteLength=function(str,encoding){var ret;switch(str+="",encoding||"utf8"){case"hex":ret=str.length/2;break;case"utf8":case"utf-8":ret=utf8ToBytes(str).length;break;case"ascii":case"binary":case"raw":ret=str.length;break;case"base64":ret=base64ToBytes(str).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ret=2*str.length;break;default:throw new Error("Unknown encoding")}return ret},Buffer.concat=function(list,totalLength){if(assert(isArray(list),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===list.length)return new Buffer(0);if(1===list.length)return list[0];var i;if("number"!=typeof totalLength)for(totalLength=0,i=0;i<list.length;i++)totalLength+=list[i].length;var buf=new Buffer(totalLength),pos=0;for(i=0;i<list.length;i++){var item=list[i];item.copy(buf,pos),pos+=item.length}return buf},Buffer.prototype.write=function(string,offset,length,encoding){if(isFinite(offset))isFinite(length)||(encoding=length,length=void 0);else{var swap=encoding;encoding=offset,offset=length,length=swap}offset=Number(offset)||0;var remaining=this.length-offset;length?(length=Number(length),length>remaining&&(length=remaining)):length=remaining,encoding=String(encoding||"utf8").toLowerCase();var ret;switch(encoding){case"hex":ret=_hexWrite(this,string,offset,length);break;case"utf8":case"utf-8":ret=_utf8Write(this,string,offset,length);break;case"ascii":ret=_asciiWrite(this,string,offset,length);break;case"binary":ret=_binaryWrite(this,string,offset,length);break;case"base64":ret=_base64Write(this,string,offset,length);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ret=_utf16leWrite(this,string,offset,length);break;default:throw new Error("Unknown encoding")}return ret},Buffer.prototype.toString=function(encoding,start,end){var self=this;if(encoding=String(encoding||"utf8").toLowerCase(),start=Number(start)||0,end=void 0!==end?Number(end):end=self.length,end===start)return"";var ret;switch(encoding){case"hex":ret=_hexSlice(self,start,end);break;case"utf8":case"utf-8":ret=_utf8Slice(self,start,end);break;case"ascii":ret=_asciiSlice(self,start,end);break;case"binary":ret=_binarySlice(self,start,end);break;case"base64":ret=_base64Slice(self,start,end);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ret=_utf16leSlice(self,start,end);break;default:throw new Error("Unknown encoding")}return ret},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Buffer.prototype.copy=function(target,target_start,start,end){var source=this;if(start||(start=0),end||0===end||(end=this.length),target_start||(target_start=0),end!==start&&0!==target.length&&0!==source.length){assert(end>=start,"sourceEnd < sourceStart"),assert(target_start>=0&&target_start<target.length,"targetStart out of bounds"),assert(start>=0&&start<source.length,"sourceStart out of bounds"),assert(end>=0&&end<=source.length,"sourceEnd out of bounds"),end>this.length&&(end=this.length),target.length-target_start<end-start&&(end=target.length-target_start+start);var len=end-start;if(len<100||!Buffer._useTypedArrays)for(var i=0;i<len;i++)target[i+target_start]=this[i+start];else target._set(this.subarray(start,start+len),target_start)}},Buffer.prototype.slice=function(start,end){var len=this.length;if(start=clamp(start,len,0),end=clamp(end,len,len),Buffer._useTypedArrays)return Buffer._augment(this.subarray(start,end));for(var sliceLen=end-start,newBuf=new Buffer(sliceLen,(void 0),(!0)),i=0;i<sliceLen;i++)newBuf[i]=this[i+start];return newBuf},Buffer.prototype.get=function(offset){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(offset)},Buffer.prototype.set=function(v,offset){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(v,offset)},Buffer.prototype.readUInt8=function(offset,noAssert){if(noAssert||(assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset<this.length,"Trying to read beyond buffer length")),!(offset>=this.length))return this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return _readUInt16(this,offset,!0,noAssert)},Buffer.prototype.readUInt16BE=function(offset,noAssert){return _readUInt16(this,offset,!1,noAssert)},Buffer.prototype.readUInt32LE=function(offset,noAssert){return _readUInt32(this,offset,!0,noAssert)},Buffer.prototype.readUInt32BE=function(offset,noAssert){return _readUInt32(this,offset,!1,noAssert)},Buffer.prototype.readInt8=function(offset,noAssert){if(noAssert||(assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset<this.length,"Trying to read beyond buffer length")),!(offset>=this.length)){var neg=128&this[offset];return neg?(255-this[offset]+1)*-1:this[offset]}},Buffer.prototype.readInt16LE=function(offset,noAssert){return _readInt16(this,offset,!0,noAssert)},Buffer.prototype.readInt16BE=function(offset,noAssert){return _readInt16(this,offset,!1,noAssert)},Buffer.prototype.readInt32LE=function(offset,noAssert){return _readInt32(this,offset,!0,noAssert)},Buffer.prototype.readInt32BE=function(offset,noAssert){return _readInt32(this,offset,!1,noAssert)},Buffer.prototype.readFloatLE=function(offset,noAssert){return _readFloat(this,offset,!0,noAssert)},Buffer.prototype.readFloatBE=function(offset,noAssert){return _readFloat(this,offset,!1,noAssert)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return _readDouble(this,offset,!0,noAssert)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return _readDouble(this,offset,!1,noAssert)},Buffer.prototype.writeUInt8=function(value,offset,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset<this.length,"trying to write beyond buffer length"),verifuint(value,255)),offset>=this.length||(this[offset]=value)},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){_writeUInt16(this,value,offset,!0,noAssert)},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){_writeUInt16(this,value,offset,!1,noAssert)},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){_writeUInt32(this,value,offset,!0,noAssert)},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){_writeUInt32(this,value,offset,!1,noAssert)},Buffer.prototype.writeInt8=function(value,offset,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset<this.length,"Trying to write beyond buffer length"),verifsint(value,127,-128)),offset>=this.length||(value>=0?this.writeUInt8(value,offset,noAssert):this.writeUInt8(255+value+1,offset,noAssert))},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){_writeInt16(this,value,offset,!0,noAssert)},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){_writeInt16(this,value,offset,!1,noAssert)},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){_writeInt32(this,value,offset,!0,noAssert)},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){_writeInt32(this,value,offset,!1,noAssert)},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){_writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){_writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){_writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){_writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.fill=function(value,start,end){if(value||(value=0),start||(start=0),end||(end=this.length),"string"==typeof value&&(value=value.charCodeAt(0)),assert("number"==typeof value&&!isNaN(value),"value is not a number"),assert(end>=start,"end < start"),end!==start&&0!==this.length){assert(start>=0&&start<this.length,"start out of bounds"),assert(end>=0&&end<=this.length,"end out of bounds");for(var i=start;i<end;i++)this[i]=value}},Buffer.prototype.inspect=function(){for(var out=[],len=this.length,i=0;i<len;i++)if(out[i]=toHex(this[i]),i===exports.INSPECT_MAX_BYTES){out[i+1]="...";break}return"<Buffer "+out.join(" ")+">"},Buffer.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(Buffer._useTypedArrays)return new Buffer(this).buffer;for(var buf=new Uint8Array(this.length),i=0,len=buf.length;i<len;i+=1)buf[i]=this[i];return buf.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var BP=Buffer.prototype;Buffer._augment=function(arr){return arr._isBuffer=!0,arr._get=arr.get,arr._set=arr.set,arr.get=BP.get,arr.set=BP.set,arr.write=BP.write,arr.toString=BP.toString,arr.toLocaleString=BP.toString,arr.toJSON=BP.toJSON,arr.copy=BP.copy,arr.slice=BP.slice,arr.readUInt8=BP.readUInt8,arr.readUInt16LE=BP.readUInt16LE,arr.readUInt16BE=BP.readUInt16BE,arr.readUInt32LE=BP.readUInt32LE,arr.readUInt32BE=BP.readUInt32BE,arr.readInt8=BP.readInt8,arr.readInt16LE=BP.readInt16LE,arr.readInt16BE=BP.readInt16BE,arr.readInt32LE=BP.readInt32LE,arr.readInt32BE=BP.readInt32BE,arr.readFloatLE=BP.readFloatLE,arr.readFloatBE=BP.readFloatBE,arr.readDoubleLE=BP.readDoubleLE,arr.readDoubleBE=BP.readDoubleBE,arr.writeUInt8=BP.writeUInt8,arr.writeUInt16LE=BP.writeUInt16LE,arr.writeUInt16BE=BP.writeUInt16BE,arr.writeUInt32LE=BP.writeUInt32LE,arr.writeUInt32BE=BP.writeUInt32BE,arr.writeInt8=BP.writeInt8,arr.writeInt16LE=BP.writeInt16LE,arr.writeInt16BE=BP.writeInt16BE,arr.writeInt32LE=BP.writeInt32LE,arr.writeInt32BE=BP.writeInt32BE,arr.writeFloatLE=BP.writeFloatLE,arr.writeFloatBE=BP.writeFloatBE,arr.writeDoubleLE=BP.writeDoubleLE,
arr.writeDoubleBE=BP.writeDoubleBE,arr.fill=BP.fill,arr.inspect=BP.inspect,arr.toArrayBuffer=BP.toArrayBuffer,arr}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../node_modules/gulp-browserify/node_modules/buffer/index.js","/../../node_modules/gulp-browserify/node_modules/buffer")},{b55mWE:4,"base64-js":2,buffer:3,ieee754:6}],4:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){function noop(){}var process=module.exports={};process.nextTick=function(){var canSetImmediate="undefined"!=typeof window&&window.setImmediate,canPost="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(canSetImmediate)return function(f){return window.setImmediate(f)};if(canPost){var queue=[];return window.addEventListener("message",function(ev){var source=ev.source;if((source===window||null===source)&&"process-tick"===ev.data&&(ev.stopPropagation(),queue.length>0)){var fn=queue.shift();fn()}},!0),function(fn){queue.push(fn),window.postMessage("process-tick","*")}}return function(fn){setTimeout(fn,0)}}(),process.title="browser",process.browser=!0,process.env={},process.argv=[],process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../node_modules/gulp-browserify/node_modules/process/browser.js","/../../node_modules/gulp-browserify/node_modules/process")},{b55mWE:4,buffer:3}],5:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",424:"Failed Dependency",429:"Too Many Requests",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version not Supported",507:"Insufficient Storage",CONTINUE:100,SWITCHING_PROTOCOLS:101,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUESTED_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,UNPROCESSABLE_ENTITY:422,FAILED_DEPENDENCY:424,TOO_MANY_REQUESTS:429,UNAVAILABLE_FOR_LEGAL_REASONS:451,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,INSUFFICIENT_STORAGE:507}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../node_modules/http-status/lib/index.js","/../../node_modules/http-status/lib")},{b55mWE:4,buffer:3}],6:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:(s?-1:1)*(1/0);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../node_modules/ieee754/index.js","/../../node_modules/ieee754")},{b55mWE:4,buffer:3}],7:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){(function(){var root=this,previousUnderscore=root._,breaker={},ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,push=ArrayProto.push,slice=ArrayProto.slice,concat=ArrayProto.concat,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,_=function(obj){return obj instanceof _?obj:this instanceof _?void(this._wrapped=obj):new _(obj)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):root._=_,_.VERSION="1.5.2";var each=_.each=_.forEach=function(obj,iterator,context){if(null!=obj)if(nativeForEach&&obj.forEach===nativeForEach)obj.forEach(iterator,context);else if(obj.length===+obj.length){for(var i=0,length=obj.length;i<length;i++)if(iterator.call(context,obj[i],i,obj)===breaker)return}else for(var keys=_.keys(obj),i=0,length=keys.length;i<length;i++)if(iterator.call(context,obj[keys[i]],keys[i],obj)===breaker)return};_.map=_.collect=function(obj,iterator,context){var results=[];return null==obj?results:nativeMap&&obj.map===nativeMap?obj.map(iterator,context):(each(obj,function(value,index,list){results.push(iterator.call(context,value,index,list))}),results)};var reduceError="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;if(null==obj&&(obj=[]),nativeReduce&&obj.reduce===nativeReduce)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduce(iterator,memo):obj.reduce(iterator);if(each(obj,function(value,index,list){initial?memo=iterator.call(context,memo,value,index,list):(memo=value,initial=!0)}),!initial)throw new TypeError(reduceError);return memo},_.reduceRight=_.foldr=function(obj,iterator,memo,context){var initial=arguments.length>2;if(null==obj&&(obj=[]),nativeReduceRight&&obj.reduceRight===nativeReduceRight)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator);var length=obj.length;if(length!==+length){var keys=_.keys(obj);length=keys.length}if(each(obj,function(value,index,list){index=keys?keys[--length]:--length,initial?memo=iterator.call(context,memo,obj[index],index,list):(memo=obj[index],initial=!0)}),!initial)throw new TypeError(reduceError);return memo},_.find=_.detect=function(obj,iterator,context){var result;return any(obj,function(value,index,list){if(iterator.call(context,value,index,list))return result=value,!0}),result},_.filter=_.select=function(obj,iterator,context){var results=[];return null==obj?results:nativeFilter&&obj.filter===nativeFilter?obj.filter(iterator,context):(each(obj,function(value,index,list){iterator.call(context,value,index,list)&&results.push(value)}),results)},_.reject=function(obj,iterator,context){return _.filter(obj,function(value,index,list){return!iterator.call(context,value,index,list)},context)},_.every=_.all=function(obj,iterator,context){iterator||(iterator=_.identity);var result=!0;return null==obj?result:nativeEvery&&obj.every===nativeEvery?obj.every(iterator,context):(each(obj,function(value,index,list){if(!(result=result&&iterator.call(context,value,index,list)))return breaker}),!!result)};var any=_.some=_.any=function(obj,iterator,context){iterator||(iterator=_.identity);var result=!1;return null==obj?result:nativeSome&&obj.some===nativeSome?obj.some(iterator,context):(each(obj,function(value,index,list){if(result||(result=iterator.call(context,value,index,list)))return breaker}),!!result)};_.contains=_.include=function(obj,target){return null!=obj&&(nativeIndexOf&&obj.indexOf===nativeIndexOf?obj.indexOf(target)!=-1:any(obj,function(value){return value===target}))},_.invoke=function(obj,method){var args=slice.call(arguments,2),isFunc=_.isFunction(method);return _.map(obj,function(value){return(isFunc?method:value[method]).apply(value,args)})},_.pluck=function(obj,key){return _.map(obj,function(value){return value[key]})},_.where=function(obj,attrs,first){return _.isEmpty(attrs)?first?void 0:[]:_[first?"find":"filter"](obj,function(value){for(var key in attrs)if(attrs[key]!==value[key])return!1;return!0})},_.findWhere=function(obj,attrs){return _.where(obj,attrs,!0)},_.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535)return Math.max.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return-(1/0);var result={computed:-(1/0),value:-(1/0)};return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>result.computed&&(result={value:value,computed:computed})}),result.value},_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535)return Math.min.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return 1/0;var result={computed:1/0,value:1/0};return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed<result.computed&&(result={value:value,computed:computed})}),result.value},_.shuffle=function(obj){var rand,index=0,shuffled=[];return each(obj,function(value){rand=_.random(index++),shuffled[index-1]=shuffled[rand],shuffled[rand]=value}),shuffled},_.sample=function(obj,n,guard){return arguments.length<2||guard?obj[_.random(obj.length-1)]:_.shuffle(obj).slice(0,Math.max(0,n))};var lookupIterator=function(value){return _.isFunction(value)?value:function(obj){return obj[value]}};_.sortBy=function(obj,value,context){var iterator=lookupIterator(value);return _.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iterator.call(context,value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a!==b){if(a>b||void 0===a)return 1;if(a<b||void 0===b)return-1}return left.index-right.index}),"value")};var group=function(behavior){return function(obj,value,context){var result={},iterator=null==value?_.identity:lookupIterator(value);return each(obj,function(value,index){var key=iterator.call(context,value,index,obj);behavior(result,key,value)}),result}};_.groupBy=group(function(result,key,value){(_.has(result,key)?result[key]:result[key]=[]).push(value)}),_.indexBy=group(function(result,key,value){result[key]=value}),_.countBy=group(function(result,key){_.has(result,key)?result[key]++:result[key]=1}),_.sortedIndex=function(array,obj,iterator,context){iterator=null==iterator?_.identity:lookupIterator(iterator);for(var value=iterator.call(context,obj),low=0,high=array.length;low<high;){var mid=low+high>>>1;iterator.call(context,array[mid])<value?low=mid+1:high=mid}return low},_.toArray=function(obj){return obj?_.isArray(obj)?slice.call(obj):obj.length===+obj.length?_.map(obj,_.identity):_.values(obj):[]},_.size=function(obj){return null==obj?0:obj.length===+obj.length?obj.length:_.keys(obj).length},_.first=_.head=_.take=function(array,n,guard){if(null!=array)return null==n||guard?array[0]:slice.call(array,0,n)},_.initial=function(array,n,guard){return slice.call(array,0,array.length-(null==n||guard?1:n))},_.last=function(array,n,guard){if(null!=array)return null==n||guard?array[array.length-1]:slice.call(array,Math.max(array.length-n,0))},_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,null==n||guard?1:n)},_.compact=function(array){return _.filter(array,_.identity)};var flatten=function(input,shallow,output){return shallow&&_.every(input,_.isArray)?concat.apply(output,input):(each(input,function(value){_.isArray(value)||_.isArguments(value)?shallow?push.apply(output,value):flatten(value,shallow,output):output.push(value)}),output)};_.flatten=function(array,shallow){return flatten(array,shallow,[])},_.without=function(array){return _.difference(array,slice.call(arguments,1))},_.uniq=_.unique=function(array,isSorted,iterator,context){_.isFunction(isSorted)&&(context=iterator,iterator=isSorted,isSorted=!1);var initial=iterator?_.map(array,iterator,context):array,results=[],seen=[];return each(initial,function(value,index){(isSorted?index&&seen[seen.length-1]===value:_.contains(seen,value))||(seen.push(value),results.push(array[index]))}),results},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.indexOf(other,item)>=0})})},_.difference=function(array){var rest=concat.apply(ArrayProto,slice.call(arguments,1));return _.filter(array,function(value){return!_.contains(rest,value)})},_.zip=function(){for(var length=_.max(_.pluck(arguments,"length").concat(0)),results=new Array(length),i=0;i<length;i++)results[i]=_.pluck(arguments,""+i);return results},_.object=function(list,values){if(null==list)return{};for(var result={},i=0,length=list.length;i<length;i++)values?result[list[i]]=values[i]:result[list[i][0]]=list[i][1];return result},_.indexOf=function(array,item,isSorted){if(null==array)return-1;var i=0,length=array.length;if(isSorted){if("number"!=typeof isSorted)return i=_.sortedIndex(array,item),array[i]===item?i:-1;i=isSorted<0?Math.max(0,length+isSorted):isSorted}if(nativeIndexOf&&array.indexOf===nativeIndexOf)return array.indexOf(item,isSorted);for(;i<length;i++)if(array[i]===item)return i;return-1},_.lastIndexOf=function(array,item,from){if(null==array)return-1;var hasIndex=null!=from;if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf)return hasIndex?array.lastIndexOf(item,from):array.lastIndexOf(item);for(var i=hasIndex?from:array.length;i--;)if(array[i]===item)return i;return-1},_.range=function(start,stop,step){arguments.length<=1&&(stop=start||0,start=0),step=arguments[2]||1;for(var length=Math.max(Math.ceil((stop-start)/step),0),idx=0,range=new Array(length);idx<length;)range[idx++]=start,start+=step;return range};var ctor=function(){};_.bind=function(func,context){var args,bound;if(nativeBind&&func.bind===nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError;return args=slice.call(arguments,2),bound=function(){if(!(this instanceof bound))return func.apply(context,args.concat(slice.call(arguments)));ctor.prototype=func.prototype;var self=new ctor;ctor.prototype=null;var result=func.apply(self,args.concat(slice.call(arguments)));return Object(result)===result?result:self}},_.partial=function(func){var args=slice.call(arguments,1);return function(){return func.apply(this,args.concat(slice.call(arguments)))}},_.bindAll=function(obj){var funcs=slice.call(arguments,1);if(0===funcs.length)throw new Error("bindAll must be passed function names");return each(funcs,function(f){obj[f]=_.bind(obj[f],obj)}),obj},_.memoize=function(func,hasher){var memo={};return hasher||(hasher=_.identity),function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:memo[key]=func.apply(this,arguments)}},_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)},_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)))},_.throttle=function(func,wait,options){var context,args,result,timeout=null,previous=0;options||(options={});var later=function(){previous=options.leading===!1?0:new Date,timeout=null,result=func.apply(context,args)};return function(){var now=new Date;previous||options.leading!==!1||(previous=now);var remaining=wait-(now-previous);return context=this,args=arguments,remaining<=0?(clearTimeout(timeout),timeout=null,previous=now,result=func.apply(context,args)):timeout||options.trailing===!1||(timeout=setTimeout(later,remaining)),result}},_.debounce=function(func,wait,immediate){var timeout,args,context,timestamp,result;return function(){context=this,args=arguments,timestamp=new Date;var later=function(){var last=new Date-timestamp;last<wait?timeout=setTimeout(later,wait-last):(timeout=null,immediate||(result=func.apply(context,args)))},callNow=immediate&&!timeout;return timeout||(timeout=setTimeout(later,wait)),callNow&&(result=func.apply(context,args)),result}},_.once=function(func){var memo,ran=!1;return function(){return ran?memo:(ran=!0,memo=func.apply(this,arguments),func=null,memo)}},_.wrap=function(func,wrapper){return function(){var args=[func];return push.apply(args,arguments),wrapper.apply(this,args)}},_.compose=function(){var funcs=arguments;return function(){for(var args=arguments,i=funcs.length-1;i>=0;i--)args=[funcs[i].apply(this,args)];return args[0]}},_.after=function(times,func){return function(){if(--times<1)return func.apply(this,arguments)}},_.keys=nativeKeys||function(obj){if(obj!==Object(obj))throw new TypeError("Invalid object");var keys=[];for(var key in obj)_.has(obj,key)&&keys.push(key);return keys},_.values=function(obj){for(var keys=_.keys(obj),length=keys.length,values=new Array(length),i=0;i<length;i++)values[i]=obj[keys[i]];return values},_.pairs=function(obj){for(var keys=_.keys(obj),length=keys.length,pairs=new Array(length),i=0;i<length;i++)pairs[i]=[keys[i],obj[keys[i]]];return pairs},_.invert=function(obj){for(var result={},keys=_.keys(obj),i=0,length=keys.length;i<length;i++)result[obj[keys[i]]]=keys[i];return result},_.functions=_.methods=function(obj){var names=[];for(var key in obj)_.isFunction(obj[key])&&names.push(key);return names.sort()},_.extend=function(obj){return each(slice.call(arguments,1),function(source){if(source)for(var prop in source)obj[prop]=source[prop]}),obj},_.pick=function(obj){var copy={},keys=concat.apply(ArrayProto,slice.call(arguments,1));return each(keys,function(key){key in obj&&(copy[key]=obj[key])}),copy},_.omit=function(obj){var copy={},keys=concat.apply(ArrayProto,slice.call(arguments,1));for(var key in obj)_.contains(keys,key)||(copy[key]=obj[key]);return copy},_.defaults=function(obj){return each(slice.call(arguments,1),function(source){if(source)for(var prop in source)void 0===obj[prop]&&(obj[prop]=source[prop])}),obj},_.clone=function(obj){return _.isObject(obj)?_.isArray(obj)?obj.slice():_.extend({},obj):obj},_.tap=function(obj,interceptor){return interceptor(obj),obj};var eq=function(a,b,aStack,bStack){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof _&&(a=a._wrapped),b instanceof _&&(b=b._wrapped);var className=toString.call(a);if(className!=toString.call(b))return!1;switch(className){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var length=aStack.length;length--;)if(aStack[length]==a)return bStack[length]==b;var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor))return!1;aStack.push(a),bStack.push(b);var size=0,result=!0;if("[object Array]"==className){if(size=a.length,result=size==b.length)for(;size--&&(result=eq(a[size],b[size],aStack,bStack)););}else{for(var key in a)if(_.has(a,key)&&(size++,!(result=_.has(b,key)&&eq(a[key],b[key],aStack,bStack))))break;if(result){for(key in b)if(_.has(b,key)&&!size--)break;result=!size}}return aStack.pop(),bStack.pop(),result};_.isEqual=function(a,b){return eq(a,b,[],[])},_.isEmpty=function(obj){if(null==obj)return!0;if(_.isArray(obj)||_.isString(obj))return 0===obj.length;for(var key in obj)if(_.has(obj,key))return!1;return!0},_.isElement=function(obj){return!(!obj||1!==obj.nodeType)},_.isArray=nativeIsArray||function(obj){return"[object Array]"==toString.call(obj)},_.isObject=function(obj){return obj===Object(obj)},each(["Arguments","Function","String","Number","Date","RegExp"],function(name){_["is"+name]=function(obj){return toString.call(obj)=="[object "+name+"]"}}),_.isArguments(arguments)||(_.isArguments=function(obj){return!(!obj||!_.has(obj,"callee"))}),"function"!=typeof/./&&(_.isFunction=function(obj){return"function"==typeof obj}),_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))},_.isNaN=function(obj){return _.isNumber(obj)&&obj!=+obj},_.isBoolean=function(obj){return obj===!0||obj===!1||"[object Boolean]"==toString.call(obj)},_.isNull=function(obj){return null===obj},_.isUndefined=function(obj){return void 0===obj},_.has=function(obj,key){return hasOwnProperty.call(obj,key)},_.noConflict=function(){return root._=previousUnderscore,this},_.identity=function(value){return value},_.times=function(n,iterator,context){for(var accum=Array(Math.max(0,n)),i=0;i<n;i++)accum[i]=iterator.call(context,i);return accum},_.random=function(min,max){return null==max&&(max=min,min=0),min+Math.floor(Math.random()*(max-min+1))};var entityMap={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};entityMap.unescape=_.invert(entityMap.escape);var entityRegexes={escape:new RegExp("["+_.keys(entityMap.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(entityMap.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(method){_[method]=function(string){return null==string?"":(""+string).replace(entityRegexes[method],function(match){return entityMap[method][match]})}}),_.result=function(object,property){if(null!=object){var value=object[property];return _.isFunction(value)?value.call(object):value}},_.mixin=function(obj){each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];return push.apply(args,arguments),result.call(this,func.apply(_,args))}})};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},escaper=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(text,data,settings){var render;settings=_.defaults({},settings,_.templateSettings);var matcher=new RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g"),index=0,source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){return source+=text.slice(index,offset).replace(escaper,function(match){return"\\"+escapes[match]}),escape&&(source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'"),interpolate&&(source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'"),evaluate&&(source+="';\n"+evaluate+"\n__p+='"),index=offset+match.length,match}),source+="';\n",settings.variable||(source="with(obj||{}){\n"+source+"}\n"),source="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{render=new Function(settings.variable||"obj","_",source)}catch(e){throw e.source=source,e}if(data)return render(data,_);var template=function(data){return render.call(this,data,_)};return template.source="function("+(settings.variable||"obj")+"){\n"+source+"}",template},_.chain=function(obj){return _(obj).chain()};var result=function(obj){return this._chain?_(obj).chain():obj};_.mixin(_),each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;return method.apply(obj,arguments),"shift"!=name&&"splice"!=name||0!==obj.length||delete obj[0],result.call(this,obj)}}),each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result.call(this,method.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../node_modules/underscore/underscore.js","/../../node_modules/underscore")},{b55mWE:4,buffer:3}],8:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.iframe_controller=function($route,$scope,$http,$q,$routeParams,$location,$rootScope,Team){console.log("controller go"),console.log($route.routes),$scope.gridOptions=[],$scope.gridOptions.data=[];var columnDefs=[];columnDefs.push({field:"username",resizable:!0},{field:"password",resizable:!0},{field:"email",resizable:!0},{field:"firstName",resizable:!0},{field:"lastName",resizable:!0},{field:"team",resizable:!0},{field:"group",resizable:!0},{field:"trello_doing_id",resizable:!0},{field:"score",resizable:!0},{field:"bonus",resizable:!0},{field:"leave_start",resizable:!0},{field:"leave_taken",resizable:!0},{field:"number_days_leave",resizable:!0}),$scope.gridOptions={columnDefs:columnDefs,enableGridMenu:!0,enableSelectAll:!0,enableCellSelection:!0,enableCellEditOnFocus:!0,exporterCsvFilename:"myFile.csv",exporterCsvLinkElement:angular.element(document.querySelectorAll(".custom-csv-link-location")),onRegisterApi:function(gridApi){vm.gridApi=gridApi},pagingOptions:{pageSizes:[250,500,1e3],pageSize:250,totalServerItems:0,currentPage:1},exporterPdfDefaultStyle:{fontSize:9},exporterPdfTableStyle:{margin:[30,30,30,30]},exporterPdfTableHeaderStyle:{fontSize:10,bold:!0,italics:!0,color:"red"},exporterPdfHeader:{text:"My Header",style:"headerStyle"},exporterPdfFooter:function(currentPage,pageCount){return{text:currentPage.toString()+" of "+pageCount.toString(),style:"footerStyle"}},exporterPdfCustomFormatter:function(docDefinition){return docDefinition.styles.headerStyle={fontSize:22,bold:!0},docDefinition.styles.footerStyle={fontSize:10,bold:!0},docDefinition},exporterPdfOrientation:"portrait",exporterPdfPageSize:"LETTER",exporterPdfMaxGridWidth:500,exporterCsvLinkElement:angular.element(document.querySelectorAll(".custom-csv-link-location")),onRegisterApi:function(gridApi){$scope.gridApi=gridApi,gridApi.edit.on.afterCellEdit($scope,function(rowEntity,colDef,newValue,oldValue){var myArray=[],key=colDef.field,obj={};obj[key]=newValue,myArray.push(obj);var query={id:rowEntity._id};Team.update(query,obj,function(err,affected,resp){})})}},console.log("getData"),Team.query({},function(team){$scope.rows=[],$scope._rows=[],_.each(team,function(row){console.log(row),$scope._rows.push(row)}),$scope.gridOptions.data=$scope._rows})}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/iframe/iframe-controller.js","/../components/iframe")},{b55mWE:4,buffer:3}],9:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.iFrame=function(){return{controller:"iframe_controller",templateUrl:"./components/iframe/iframe-page.html"}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/iframe/iframe-directive.js","/../components/iframe")},{b55mWE:4,buffer:3}],10:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.boardCtrl=function($scope,$http,$q,$routeParams,$location,screen_saver_loop,$location,$rootScope,detect_dragging,trello,get_trello_board,date_calc,Todos,Tallys,Team){$scope.team=["Zahid","Tom","Fay","Mark","Darren","Lacey","David"],$scope.chart_title="Leader Board",$scope.labels=$scope.team,$scope.removeTally=function(id){Tallys.remove({id:id})},Tallys.query({},function(team){_.each(team,function(row){})}),trello.auth();_series=[],__series=[],$scope.series=[],_.each($scope.team,function(member){_series[member]=[]});var plot_graph=function(){var _data=[],_series=[];_.each($scope.team,function(member){_series[member]=[]}),Tallys.query({},function(tallys){tallys.sort(function(a,b){return a.date+b.date}),_.each(tallys,function(row){for(var member in _series)_series.hasOwnProperty(member)&&row.name&&row.name.toLowerCase()==member.toLowerCase()&&_series[member].push({x:row.date,y:row.points})})});for(var member in _series)_series.hasOwnProperty(member)&&_data.push(_series[member]);$scope.data=_data};for(var member in _series)_series.hasOwnProperty(member)&&__series.push(member);$scope.series=__series,$scope.datasetOverride=[{yAxisID:"y-axis-1"}],$scope.options={scales:{xAxes:[{type:"time",unit:"day",unitStepSize:1,time:{displayFormats:{day:"MMM DD"}}}],yAxes:[{id:"y-axis-1",type:"linear",display:!0,position:"left"}]}};$scope.loadMoreShots=function(count,display_data){angular.forEach(display_data,function(list,index){get_trello_board.get_data(list).then(function(){count++,display_data.length==count+1&&($scope.listscores(),plot_graph())})})},$scope.loadMoreShots(0,$rootScope.team),setInterval(function(){$scope.loadMoreShots(0,$rootScope.team)},25e4),kiosk_path=$routeParams.kiosk,screensaver="",$scope.start_screen_saver=function(){},$scope.functionThatReturnsStyle=function(){},$scope.changeheadingcolor=function(){},1!=$rootScope.screensaver_on&&console.log("start screensaver"),$scope.lists=[],$scope.listscores=function(){$scope._lists=[],Team.query({},function(team){_.each(team,function(row){list=[],list.title=row.name,list.average=row.penalty,list.age=(10-1/row.penalty*10).toFixed(0),list.tint=row.penalty/100,list.card_count=row.card_count,list.points=row.score,
$scope._lists.push(list)}),$scope.lists=$scope._lists})}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/machine-monitor/dashboard-controller.js","/../components/machine-monitor")},{b55mWE:4,buffer:3}],11:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.deadCtrl=function($scope,$http,$q,$routeParams,$location,screen_saver_loop,$location,$rootScope,detect_dragging,trello,get_trello_board,date_calc,Todos,Tallys,Team,kiosk_activity){$scope.machine_types=[],$scope.changedValue=function(type){$scope.data=[],$scope.series=[],$scope.category=[],$scope.type=type,plot_graph()},$scope.machine_types=["apple","orange","pear","naartjie"],$scope.machine_types_selection=["apple","pear"],$scope.toggleSelection=function(type){var idx=$scope.machine_types_selection.indexOf(type);idx>-1?($scope.machine_types_selection.splice(idx,1),plot_graph()):($scope.machine_types_selection.push(type),plot_graph())},$scope.changedCatValue=function(category){},$scope.categories=[],$scope.category_selection=[],$scope.toggleCatSelection=function(type){var idx=$scope.category_selection.indexOf(type);idx>-1?($scope.category_selection.splice(idx,1),plot_graph()):($scope.category_selection.push(type),$scope.data=[],$scope.series=[],$scope._series=[],plot_graph())},$scope.changedCatValue=function(category){},$scope.data=[],$scope.team=[],$scope.labels=$scope.team,$scope.chart_title="Machine activity";var plot_graph=function(){$scope.data=[],$scope.series=[],$scope._series=[],kiosk_activity.async_all($scope.category_selection).then(function(data){console.log("data",data),$scope.listscores(data.data.off_today),$scope.listslivecores(data.data.on_today)})};plot_graph(),$scope.live_lists=[],$scope.listslivecores=function(list){console.log("list",list),_.each(list,function(row){console.log(row),list=[],list.title=row.kiosk,list.average=row.penalty,list.age=(10-1/row.penalty*10).toFixed(0),list.tint=row.penalty/100,list.card_count=row.card_count,list.points=row.score,$scope.live_lists.push(list)})},$scope.lists=[],$scope.listscores=function(list){console.log("list",list),_.each(list,function(row){list=[],list.title=row.kiosk,list.average=row.penalty,list.age=(10-1/row.penalty*10).toFixed(0),list.tint=row.penalty/100,list.card_count=row.card_count,list.points=row.score,$scope.lists.push(list)})}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/machine-monitor/dead-controller.js","/../components/machine-monitor")},{b55mWE:4,buffer:3}],12:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.downtimeCtrl=function($scope,$http,$q,$routeParams,$location,screen_saver_loop,$location,$rootScope,detect_dragging,trello,get_trello_board,date_calc,Todos,Tallys,Team,kiosk_activity){function satisfact_pie(comments){$scope.kiosks=[];var series_a=[],labels=[];$scope.pie_labels=[],$scope.pie_data=[],$scope.pie_options=[],$scope.datax=[],_.each(comments.data.satisfaction_tally,function(row){$scope.kiosks.indexOf(row.kiosk)==-1&&($scope.kiosks.push(row.kiosk),series_a[row.kiosk]=[],$scope[row.kiosk]=[],labels[row.kiosk]=[]),series_a[row.kiosk].push(Math.round(row.count)),labels[row.kiosk].push(row.satisfaction),console.log(labels)}),_.each($scope.kiosks,function(kiosk,i){$scope.pie_labels[i]=labels[kiosk],$scope.datax[i]=series_a[kiosk],$scope.pie_options[i]={legend:{display:!1},tooltips:{enabled:!0,mode:"single",callbacks:{label:function(tooltipItems,data){var label=data.labels[tooltipItems.index];return label+" "+data.datasets[0].data[tooltipItems.index]}}}}})}console.log("controller load");var REFERENCE=moment();$scope.TODAY=REFERENCE.clone().startOf("day"),$scope.YESTERDAY=REFERENCE.clone().subtract(0,"days").startOf("day"),$scope.A_WEEK_OLD=REFERENCE.clone().subtract(7,"days").startOf("day"),$scope.datePicker=[],$scope.datePicker.date={startDate:$scope.A_WEEK_OLD._d,endDate:$scope.TODAY._d},$scope.machine_types=[],$scope.type="all",$scope.changedValue=function(type){$scope.data=[],$scope.series=[],$scope.category=[],$scope.type=type,plot_graph()},$scope.machinesx=$scope.kiosk=$routeParams.kiosk||["all"],$scope.filterCondition={machine:"neq"},$scope.$watch("type",function(type){$scope.machinesx=["all"],plot_graph("type")}),$scope.$watch("daterangepicker.dates",function(){console.log("daterangepicker"),plot_graph()}),$scope.$watch("machine",function(){plot_graph("machine")}),$scope.machine_types_selection=[],$scope.categories=[],$scope.category_selection=[];var _data=[];$scope.data=[],$scope.day_data=[],$scope.team=[],$scope.labels=$scope.team,$scope.chart_title="Machine activity";var firstTime=!0,plot_graph=function(mode){$scope.data=[],$scope.series=[],$scope.day_series=[],$scope._series=[],$scope.week_day_series=[],mode||($scope.machinesx=[]),$scope.categories=[],kiosk_activity.async_all($scope.categories,$scope.machine_types,$scope.datePicker.date).then(function(data){_.each(data.data.kiosk_list,function(data){("all"==$scope.type||$scope.type==data.type&&"machine"!=mode)&&$scope.machinesx.push(data.kiosk),"all"!=$scope.type&&$scope.type!=data.type||"all"!=$scope.machine&&$scope.machine!=data.kiosk||($scope._series[data.kiosk]=[],$scope.week_day_series[data.kiosk]=[])}),_.each(data.data.machine_types,function(data){1==firstTime&&$scope.machine_types.push(data.machine_type)}),firstTime=!1,$scope.categories=[],_.each(data.data.categories,function(data){$scope.categories.push(data.category)}),_.each(data.data.all,function(row){$scope._series[row.kiosk]&&$scope._series[row.kiosk].push({x:row.date,y:row.count})}),$scope.week_days=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],_.each($scope.week_days,function(day_of_week){_.each(data.data.week_day,function(row){!$scope.week_day_series[row.kiosk]||row.kiosk!=$scope.machine&&"all"!=$scope.machine||row.date==day_of_week&&$scope.week_day_series[row.kiosk].push(row.count)})});for(var member in $scope._series)$scope._series.hasOwnProperty(member)&&$scope.series.push(member);for(var member in $scope._series)$scope._series.hasOwnProperty(member)&&$scope.data.push($scope._series[member]);_data=[];for(var member in $scope.week_day_series)$scope.week_day_series.hasOwnProperty(member)&&($scope.day_series.push(member),_data.push($scope.week_day_series[member]));$scope.day_labels=$scope.week_days,$scope.day_data=_data})};$scope.day_onClick=function(points,evt){},$scope.day_datasetOverride=[{yAxisID:"y-axis-1"}],$scope.onClick=function(points,evt){},$scope.datasetOverride=[{yAxisID:"y-axis-1"}],$scope.options={tension:0,bezierCurve:!1,scales:{xAxes:[{type:"time",unit:"hour",unitStepSize:.05,time:{displayFormats:{day:"MMM DD"}}}],yAxes:[{id:"y-axis-1",type:"linear",display:!0,position:"left"}]}};kiosk_path=$routeParams.kiosk,screensaver="",$scope.start_screen_saver=function(){},$scope.functionThatReturnsStyle=function(){},$scope.changeheadingcolor=function(){},1!=$rootScope.screensaver_on,$scope.lists=[],$scope.listscores=function(list){_.each(list,function(row){list=[],list.title=row.kiosk,list.average=row.penalty,list.age=(10-1/row.penalty*10).toFixed(0),list.tint=row.penalty/100,list.card_count=row.card_count,list.points=row.score,$scope.lists.push(list)})},kiosk_activity.comments_all().then(function(data){satisfact_pie(data)})}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/machine-monitor/downtime-controller.js","/../components/machine-monitor")},{b55mWE:4,buffer:3}],13:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.kiosk_activity=function($http){return{async_categories:function(){return $http.get("http://www.markpajak.co.uk/mark/kiosk-feedback/downtime.php")},async_all:function(categories,machine_types,dates){var categories=categories||"",dates=dates||"",machine_types=machine_types||"";return $http.get("http://www.markpajak.co.uk/mark/kiosk-feedback/all_logs.php?categories="+JSON.stringify(categories)+"&machine_types="+JSON.stringify(machine_types)+"&dates="+JSON.stringify(dates))},comments_all:function(){return $http.get("http://www.markpajak.co.uk/mark/kiosk-feedback/all_comments.php")}}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/machine-monitor/downtime-services.js","/../components/machine-monitor")},{b55mWE:4,buffer:3}],14:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.feedbackCtrl=function($scope,$http,$q,$routeParams,$location,screen_saver_loop,$location,$rootScope,detect_dragging,trello,get_trello_board,date_calc,Todos,Tallys,Team,feedback){function overall_satisfact_pie(comments){$scope.kiosks=[],$scope.kiosks.push("OVERALL SATISFACTION"),$scope.machine="OVERALL SATISFACTION",$scope.series_a=[],$scope.labels=[],$scope.series_a["OVERALL SATISFACTION"]=[],$scope.labels["OVERALL SATISFACTION"]=[],$scope.satisfaction_tally=0,$scope.satisfaction_count=0,_.each(comments.data.overall_satisfaction,function(row){$scope.satisfaction_tally+=Math.round(row.count),$scope.series_a["OVERALL SATISFACTION"].push(Math.round(row.count)),$scope.labels["OVERALL SATISFACTION"].push(row.satisfaction),satisfied.indexOf(row.satisfaction)!=-1&&($scope.satisfaction_count+=Math.round(row.count)),$scope.pie_labels.push($scope.labels["OVERALL SATISFACTION"]),$scope.pie_data.push($scope.series_a["OVERALL SATISFACTION"])}),$scope.percentage=Math.round($scope.satisfaction_count/$scope.satisfaction_tally*100)}function satisfact_pie(comments){$scope.kiosks=[],$scope.series_a=[],$scope.labels=[],$scope.pie_labels=[],$scope.pie_data=[],$scope.pie_options=[],$scope.datax=[],$scope.satisfaction_count=0,$scope.satisfaction_tally=0,_.each(comments.data.satisfaction_tally,function(row){$scope.kiosks.indexOf(row.kiosk)==-1&&$scope.selected.indexOf(row.kiosk)!=-1&&($scope.kiosks.push(row.kiosk),console.log("cats"),$scope.series_a[row.kiosk]=[],$scope[row.kiosk]=[],$scope.labels[row.kiosk]=[]),$scope.selected.indexOf(row.kiosk)!=-1&&($scope.series_a[row.kiosk].push(Math.round(row.count)),$scope.labels[row.kiosk].push(row.satisfaction),satisfied.indexOf(row.satisfaction)!=-1&&($scope.satisfaction_count+=Math.round(row.count)),$scope.satisfaction_tally+=Math.round(row.count),$scope.percentage=Math.round($scope.satisfaction_count/$scope.satisfaction_tally*100))}),_.each($scope.kiosks,function(kiosk,i){$scope.machine=kiosk,$scope.pie_labels[i]=$scope.labels[kiosk],$scope.pie_data[i]=$scope.series_a[kiosk],$scope.pie_options[i]={legend:{display:!0},tooltips:{enabled:!0,mode:"single",callbacks:{label:function(tooltipItems,data){var label=data.labels[tooltipItems.index];return label+" "+data.datasets[0].data[tooltipItems.index]}}}}})}var REFERENCE=moment();$scope.TODAY=REFERENCE.clone().startOf("day"),$scope.YESTERDAY=REFERENCE.clone().subtract(1,"days").startOf("day"),$scope.A_WEEK_OLD=REFERENCE.clone().subtract(2,"days").startOf("day"),$scope.datePicker=[],$scope.datePicker.date={startDate:$scope.A_WEEK_OLD._d,endDate:$scope.TODAY._d},$scope.machine_types=[],$scope.type="INTERPRETATION-KIOSK",$scope.feedback=[],$scope.changedValue=function(type){$scope.data=[],$scope.series=[],$scope.category=[],$scope.type=type,plot_graph()},$scope.selected="all",$scope.changeMachine=function(machine){$scope.feedback=[],$scope.data=[],$scope.series=[],$scope.category=[],$scope.selected=machine,plot_graph(machine)},$scope.machinesx=["all"],$scope.filterCondition={machine:"neq"},$scope.$watch("type",function(type){$scope.machinesx=["all"]}),$scope.$watch("datePicker",function(){plot_graph()}),$scope.machine_types_selection=[],$scope.categories=[],$scope.category_selection=[];$scope.data=[],$scope.day_data=[],$scope.team=[],$scope.labels=$scope.team,$scope.chart_title="KIOSK FEEDBACK";var firstTime=!0;$scope.satisfaction_count=0,satisfied=[],satisfied.push("satisfied"),satisfied.push("very satisfied");var plot_graph=function(mode){$scope.data=[],$scope.series=[],$scope.day_series=[],$scope._series=[],$scope.week_day_series=[],mode||($scope.machinesx=[]),$scope.categories=[],feedback.feedback($scope.categories,$scope.datePicker.date).then(function(data){$scope.machinesx.push("OVERALL SATISFACTION"),_.each(data.data.kiosk_list,function(data){"INTERPRETATION-KIOSK"==$scope.type&&1==firstTime&&(mode="OVERALL SATISFACTION",$scope.machinesx.push(data.kiosk))}),firstTime=!1,_.each(data.data.all,function(data){""!=data.description&&data.kiosk==$scope.selected&&($scope.feedback.push(data),console.log(data.description))}),satisfact_pie(data),"OVERALL SATISFACTION"==mode&&overall_satisfact_pie(data)})};$scope.day_onClick=function(points,evt){},$scope.day_datasetOverride=[{yAxisID:"y-axis-1"}],$scope.onClick=function(points,evt){},$scope.datasetOverride=[{yAxisID:"y-axis-1"}],$scope.options={tension:0,bezierCurve:!1,scales:{xAxes:[{type:"time",unit:"hour",unitStepSize:.05,time:{displayFormats:{day:"MMM DD"}}}],yAxes:[{id:"y-axis-1",type:"linear",display:!0,position:"left"}]}};kiosk_path=$routeParams.kiosk,screensaver="",$scope.start_screen_saver=function(){},$scope.functionThatReturnsStyle=function(){},$scope.changeheadingcolor=function(){},1!=$rootScope.screensaver_on,$scope.lists=[],$scope.listscores=function(list){_.each(list,function(row){list=[],list.title=row.kiosk,list.average=row.penalty,list.age=(10-1/row.penalty*10).toFixed(0),list.tint=row.penalty/100,list.card_count=row.card_count,list.points=row.score,$scope.lists.push(list)})}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/machine-monitor/feedback-controller.js","/../components/machine-monitor")},{b55mWE:4,buffer:3}],15:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.feedback=function($http){return{async_categories:function(){return $http.get("http://www.markpajak.co.uk/mark/kiosk-feedback/downtime.php")},async_all:function(categories,dates){var categories=categories||"",dates=dates||"",machine_types=machine_types||"";return $http.get("http://www.markpajak.co.uk/mark/kiosk-feedback/all_logs.php?categories="+JSON.stringify(categories)+"&machine_types="+JSON.stringify(machine_types)+"&dates="+JSON.stringify(dates))},feedback:function(categories,machine_types,dates){return $http.get("http://www.markpajak.co.uk/mark/kiosk-feedback/all_comments.php")},comments_all:function(){return $http.get("http://www.markpajak.co.uk/mark/kiosk-feedback/all_comments.php")}}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/machine-monitor/feedback-services.js","/../components/machine-monitor")},{b55mWE:4,buffer:3}],16:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.satisfaction=function($scope,$http,$q,$routeParams,$location,screen_saver_loop,$location,$rootScope,detect_dragging,trello,get_trello_board,date_calc,Todos,Tallys,Team,feedback){feedback.feedback($scope.categories,$scope.datePicker.date).then(function(data){_.each(data.data.satisfaction_tally,function(data){console.log(data)})})}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/machine-monitor/satisfaction-controller.js","/../components/machine-monitor")},{b55mWE:4,buffer:3}],17:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.member_controller=function($scope,$http,$q,$routeParams,$location,$rootScope,date_calc,Tallys,Team,Timeline,$mdEditDialog,Leave,delete_leave_by_id){$scope.me=$routeParams.member,$me_Data=[],Leave.query({},function(team){_.each(team,function(row,index){})}),Team.query({},function(team){_.each(team,function(team,i){function sortByKey(array,key){return array.sort(function(a,b){var x=a[key],y=b[key];return x<y?-1:x>y?1:0})}team.username.toLowerCase()==$scope.me.toLowerCase()&&(console.log(team),number_days_leave_taken=0,team.leave_taken=sortByKey(team.leave_taken,"leave_start"),_.each(team.leave_taken,function(leave,w){var leave_count=0;"Full Day"==leave._type&&(leave_count=1),"Half Day"==leave._type&&(leave_count=.5),leave.start_date>=team.leave_start&&leave.end_date<=team.leave_year_end?(number_days_leave_taken+=leave.weekday_duration*leave_count,team.leave_taken[w].tally=(team.number_days_leave-number_days_leave_taken)*leave_count):(console.log(leave.start_date>=team.leave_start),console.log("leave.start_date"+leave.start_date),console.log("row.leave_start"+team.leave_start),console.log(leave.end_date<=team.leave_year_end),console.log("leave.end_date"+leave.end_date),console.log("row.leave_year_end"+team.leave_year_end))}),team.number_days_leave_remaining=team.number_days_leave-number_days_leave_taken,$scope.me_Data=team)})}),$scope.removeLeave=function(event,dessert){event.stopPropagation(),console.log(dessert),delete_leave_by_id._delete(dessert._id)}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/member/member-controller.js","/../components/member")},{b55mWE:4,buffer:3}],18:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.shopify_controller=function(log_messages,$scope,AuthService,$http,$q,$routeParams,$location,$rootScope,shopify_app){AuthService.isLoggedIn().then(function(user){$scope.isloggedin=!0,$scope.report_running=!0}),console.log("controller go"),$scope.data_number=7,$scope.update_product_types=!1,$scope.gridOptions=[],$scope.gridOptions.data=[],$scope.gridOptions.columnDefs=[],$scope.gridOptions={columnDefs:[{field:"product_type",resizable:!0},{field:"price",resizable:!0},{field:"sales_value",resizable:!0},{field:"name",resizable:!0},{field:"count",resizable:!0},{field:"inventory_quantity",resizable:!0},{field:"order_status",resizable:!0},{field:"sku",resizable:!0},{field:"vendor",resizable:!0},{field:"date_report_run",resizable:!0}],enableGridMenu:!0,enableSelectAll:!0,enableCellSelection:!0,enableCellEditOnFocus:!0,exporterCsvFilename:"myFile.csv",exporterCsvLinkElement:angular.element(document.querySelectorAll(".custom-csv-link-location")),onRegisterApi:function(gridApi){vm.gridApi=gridApi},pagingOptions:{pageSizes:[250,500,1e3],pageSize:250,totalServerItems:0,currentPage:1},exporterPdfDefaultStyle:{fontSize:9},exporterPdfTableStyle:{margin:[30,30,30,30]},exporterPdfTableHeaderStyle:{fontSize:10,bold:!0,italics:!0,color:"red"},exporterPdfHeader:{text:"My Header",style:"headerStyle"},exporterPdfFooter:function(currentPage,pageCount){return{text:currentPage.toString()+" of "+pageCount.toString(),style:"footerStyle"}},exporterPdfCustomFormatter:function(docDefinition){return docDefinition.styles.headerStyle={fontSize:22,bold:!0},docDefinition.styles.footerStyle={fontSize:10,bold:!0},docDefinition},exporterPdfOrientation:"portrait",exporterPdfPageSize:"LETTER",exporterPdfMaxGridWidth:500,exporterCsvLinkElement:angular.element(document.querySelectorAll(".custom-csv-link-location")),onRegisterApi:function(gridApi){$scope.gridApi=gridApi,gridApi.edit.on.afterCellEdit($scope,function(rowEntity,colDef,newValue,oldValue){})}};var options=[];$scope.optionset=[],options.google_sheet_id="1UlDQNS6dTvQWlQs090HRrSoR49k0Th-ElxCaxTMleA0",options.created_at_min=moment(new Date).add(-$scope.data_number,"days").format(),options.title="last_"+$scope.data_number+"_days",$scope.optionset.push(options),$scope.save_to_sheets=!1,$scope.$watch("data_number",function(data_number){$scope.optionset=[];var options=[];options.google_sheet_id="1UlDQNS6dTvQWlQs090HRrSoR49k0Th-ElxCaxTMleA0",options.created_at_min=moment(new Date).add(-data_number,"days").format(),options.title="last_"+data_number+"_days",console.log("options.created_at_min",options.created_at_min),$scope.optionset.push(options)}),$scope.runShopify=function(selected_set,shop){$scope._rows=[],$scope.report_running=!1,$scope.selected_set=selected_set,$scope.optionset[selected_set].save_to_sheets=$scope.save_to_sheets,$scope.optionset[selected_set].update_product_types=$scope.update_product_types,$scope.optionset[selected_set].shop=shop,console.log($scope.optionset[selected_set]),shopify_app.getData($scope.optionset[selected_set],function(team){$scope._rows=[],_.each(team,function(row){console.log(row),$scope._rows.push(row)}),$scope.rows=$scope._rows,$scope.gridOptions.data=$scope.rows,$(window).resize(),$scope.report_running=!0})}},exports.shopify_buttons=function(log_messages,$scope,$http,$q,$routeParams,$location,$rootScope,shopify_app){$scope.report_running=!0,$scope.title1="Button",$scope.title4="Warn",$scope.isDisabled=!0,$scope.googleUrl="http://google.com",$scope.messages=[],log_messages.query({},function(messages){setInterval(function(){log_messages.query({},function(team){_.each(team,function(row,index){log_messages.remove({id:row._id},function(){})})}),$scope.messages[0]="logs clear"},6e4),setInterval(function(){$scope.messages[0]="checking logs",log_messages.query({},function(team){_.each(team,function(row,index){$scope.messages[0]=row.username+" "+row.date+" "+row.message,log_messages.remove({id:row._id},function(){})})})},3e3)})}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/shopify/shopify-controller.js","/../components/shopify")},{b55mWE:4,buffer:3}],19:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.shopifyStatus=function(){return{controller:"shopify_controller",templateUrl:"./components/shopify/shopify-page.html"}},exports.shopifyButtons=function(){return{controller:"shopify_buttons",templateUrl:"./components/shopify/shopify-buttons.html"}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/shopify/shopify-directive.js","/../components/shopify")},{b55mWE:4,buffer:3}],20:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.TallyController=function($scope,Tallys){$scope.editing=[],$scope.tallys=Tallys.query(),$scope.save=function(){if($scope.newTally&&!($scope.newTally.length<1)){var tally=new Tallys({name:$scope.newTally,completed:!1});tally.$save(function(){$scope.tallys.push(tally),$scope.newTally=""})}},$scope.update=function(index){var tally=$scope.todos[index];Tallys.update({id:tally._id},tally),$scope.editing[index]=!1},$scope.edit=function(index){$scope.editing[index]=angular.copy($scope.tallys[index])},$scope.cancel=function(index){$scope.tallys[index]=angular.copy($scope.editing[index]),$scope.editing[index]=!1},$scope.remove=function(index){var tally=$scope.tallys[index];Tallys.remove({id:tally._id},function(){$scope.tallys.splice(index,1)})}},exports.TodoDetailCtrl=function($scope,$routeParams,Todos,$location){$scope.todo=Todos.get({id:$routeParams.id}),$scope.remove=function(){Todos.remove({id:$scope.todo._id},function(){$location.url("/")})}},exports.trello=function($scope,$http,$q,$routeParams,$location,screen_saver_loop,$rootScope,detect_dragging,trello,get_trello_board,date_calc,Todos,Tallys,Team){trello.auth(),$scope.removeTeam=function(id){Team.remove({id:id})},Team.query({},function(team){_.each(team,function(row){$scope.removeTeam(row._id)})}),kiosk_path=$routeParams.kiosk,screensaver="",$scope.start_screen_saver=function(){screen_saver_loop.start_screen_saver()},$scope.functionThatReturnsStyle=function(){},$scope.changeheadingcolor=function(){},1!=$rootScope.screensaver_on&&(console.log("start screensaver"),screen_saver_loop.start_screen_saver()),console.log($routeParams.view);var display_data=$rootScope[$routeParams.view];$scope.lists=[],loadMoreShots=function(display_data){angular.forEach(display_data,function(list,index){get_trello_board.get_data(list).then(function(response){cards=response.response,console.log("cards",cards),list._cards=[],tally=0,card_count=0,angular.forEach(cards,function(card,index){card_count++,card_to_print={name:card.name,tint:1-date_calc.diffDays(card.dateLastActivity)/10,age:date_calc.diffDays(card.dateLastActivity).toString(),dateLastActivity:card.dateLastActivity},tally+=date_calc.diffDays(card.dateLastActivity),list._cards.push(card_to_print)}),list.average=(tally/card_count).toFixed(2),list.tint=list.average/100,list.card_count=card_count,list.points=(card_count/(list.average/1+1)).toFixed(2),console.log("card_count",card_count),console.log("list.average ",list.average),console.log("list.average ",list.average+1),console.log("list.points ",list.points);var team=new Team({name:list.title,score:list.points,card_count:card_count,bonus:"",penalty:list.average});team.$save(function(){$scope.team.push(team)});var tally=new Tallys({name:list.title,date:new Date,points:list.points});$scope.tallys=Tallys.query(),tally.$save(function(){console.log(tally),$scope.tallys.push(tally),$scope.newTodo=""}),$scope.lists.push(list)})})},loadMoreShots(display_data),detect_dragging.drag_handler(),$scope.go=function(path){0==$rootScope.isDragging&&path>0&&($location.path("id/"+path+"/"+$routeParams.kiosk),detect_dragging.drag_handler())},$scope.pageClass="page-contact",$scope.save=function(){if($scope.newTally&&!($scope.newTally.length<1)){var tally=new Tallys({name:$scope.newTally,date:new Date});tally.$save(function(){$scope.todos.push(tally),$scope.newTodo=""})}}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/team/app-controllers.js","/../components/team")},{b55mWE:4,buffer:3}],21:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.form_to_trellox=function($scope,$http,$q,$routeParams,$location,screen_saver_loop,$rootScope,detect_dragging,trello,get_trello_board,date_calc,Todos,Tallys,Team){trello.auth(),console.log($rootScope.team),boards=[],angular.forEach($rootScope.team,function(team,i){board={name:team.title,value:team.id},boards.push(board)}),$scope.form_to_trello=function(){function onSubmit(){formData=vm.model;var myList=formData.list_id,creationSuccess=function(data){if(console.log("Card created successfully. Data returned:"+JSON.stringify(data)),exampleInputFile.files[0]){var formData=new FormData;formData.append("token",Trello.token()),formData.append("key",Trello.key()),formData.append("file",exampleInputFile.files[0]),console.log(formData);var request=new XMLHttpRequest;request.open("POST","https://api.trello.com/1/cards/"+data.id+"/attachments"),request.send(formData),vm.options.resetModel()}},error=function(err){console.log(err.responseText)},newCard={name:formData.name,file:formData.file,desc:formData.description,idList:myList,pos:"top"};console.log("Trello",Trello),Trello.post("/cards/",newCard,creationSuccess,error);formData.key,formData.token}var vm=this;vm.onSubmit=onSubmit,vm.author={name:"#",url:"#"},vm.exampleTitle="Introduction",vm.env={angularVersion:angular.version.full},vm.model={name:"",file:"",list_id:"",description:""},vm.options={formState:{awesomeIsForced:!1}},vm.fields=[{key:"list_id",type:"select",templateOptions:{label:"Post to board",options:boards}},{key:"name",type:"textarea",templateOptions:{label:"Task",placeholder:"This will be the card name",description:""},expressionProperties:{"templateOptions.focus":"formState.awesomeIsForced","templateOptions.description":function(viewValue,modelValue,scope){if(scope.formState.awesomeIsForced)return"And look! This field magically got focus!"}}},{key:"description",type:"textarea",templateOptions:{label:"Description",placeholder:"This will be the card description",description:""},expressionProperties:{"templateOptions.focus":"formState.awesomeIsForced","templateOptions.description":function(viewValue,modelValue,scope){if(scope.formState.awesomeIsForced)return"And look! This field magically got focus!"}}},{key:"file",type:"file",templateOptions:{label:"File",placeholder:"This will be the card name",description:""},expressionProperties:{"templateOptions.focus":"formState.awesomeIsForced","templateOptions.description":function(viewValue,modelValue,scope){if(scope.formState.awesomeIsForced)return"And look! This field magically got focus!"}}},{key:"exampleDirective",template:"<div example-directive></div>",templateOptions:{label:"Example Directive"}}]}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/team/form-controller.js","/../components/team")},{b55mWE:4,buffer:3}],22:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.leave_controller=function($scope,$http,$q,$routeParams,$location,$rootScope,date_calc,Tallys,Team,Timeline,Leave){function dateRangeOverlaps(a_start,a_end,b_start,b_end){return a_start<=b_start&&b_start<=a_end||(a_start<=b_end&&b_end<=a_end||b_start<a_start&&a_end<b_end)}$scope.override=!0,$scope.ids_to_delete=[],$scope.datePicker=[],$scope.datePicker.date={startDate:"",endDate:""},$scope.dateRange={startDate:null,endDate:null},check_dates=function(viewValue){var overlap=[];""!=viewValue&&Team.query({},function(team){_.each(team,function(_team,i){_.each(_team.leave_taken,function(leave,i){StartDate1=new Date(leave.start_date),EndDate1=new Date(leave.end_date),StartDate2=new Date($scope.datePicker.date.startDate._d),EndDate2=new Date($scope.datePicker.date.endDate._d),1==dateRangeOverlaps(StartDate1,EndDate1,StartDate2,EndDate2)&&(overlap.type=leave._type,overlap.name=leave.name,overlap.id=leave._id,overlap.group=moment(StartDate1).format("MMM Do YYYY")+"-"+moment(EndDate1).format("MMM Do YYYY"),$scope.overlapalert.push(overlap),viewValue==_team._id&&(console.log("will be overwritten"+leave._id),$scope.ids_to_delete.push(overlap.id)))})})})},$scope.overlapalert=[],$scope.dateRangeOptions={locale:{format:"DD/MM/YYYY"},eventHandlers:{"apply.daterangepicker":function(){console.log("checking Dates"),$scope.overlapalert=[],Timeline.query({},function(team){_.each(team,function(row,index){var timeline=row;if(row.end_date||(row.end_date=row.start_date),StartDate1=new Date(timeline.start_date),EndDate1=new Date(timeline.end_date),StartDate2=new Date($scope.datePicker.date.startDate._d),EndDate2=new Date($scope.datePicker.date.endDate._d),1==dateRangeOverlaps(StartDate1,EndDate1,StartDate2,EndDate2)){console.log(row);var overlap=[];overlap.type=row._type,overlap.name=row.name,overlap.group=row.group,$scope.overlapalert.push(overlap)}})})}}},boards=[],leave_type=[],
leave_type.push({name:"Full Day",value:"Full Day"}),leave_type.push({name:"Half Day",value:"Half Day"}),leave_type.push({name:"Flexi PM",value:"Flexi PM"}),leave_type.push({name:"Flexi AM",value:"Flexi AM"}),leave_type.push({name:"Flexi Day",value:"Flexi Day"}),Team.query({},function(team){_.each(team,function(team,i){board={name:team.username,value:team._id},boards.push(board)})}),check_names=function(){console.log("check names")},$scope.override_button=function(){console.log("override"),$scope.override=!1},$scope.form_to_trello=function(){function onSubmit(){formData=vm.model,console.log(formData),formData.start_date=moment($scope.datePicker.date.startDate._d).startOf("day"),formData.end_date=moment($scope.datePicker.date.endDate._d);var leave=new Leave(formData);Team.query({},function(team){_.each(team,function(_team,i){_team._id==formData.username&&(leave.team_member=_team._id,console.log("before",team[i].leave_taken),new_leave=[],new_ids=[],_.each(team[i].leave_taken,function(leave_me,index){$scope.ids_to_delete.indexOf(leave_me._id)==-1&&new_ids.indexOf(leave_me._id)==-1&&(new_leave.push(leave_me),new_ids.push(leave_me._id))}),team[i].leave_taken=new_leave,leave.$save(function(resp){console.log("response",resp),team[i].leave_taken.push(resp._id),console.log("after",team[i].leave_taken),Team.update({id:_team._id},team[i]),vm.options.resetModel(),$scope.overlapalert=[]}))})})}var vm=this;vm.onSubmit=onSubmit,vm.author={name:"#",url:"#"},vm.exampleTitle="Introduction",vm.env={angularVersion:angular.version.full},vm.model={username:"",notes:"",team:"",start_date:"",end_date:"",_type:""},vm.fields=[{key:"username",type:"select",expressionProperties:{"templateOptions.onChange":function($viewValue,$modelValue,$scope){check_dates($viewValue)}},templateOptions:{label:"Name",options:boards}},{key:"_type",type:"select",templateOptions:{label:"Type",options:leave_type}},{key:"notes",type:"textarea",templateOptions:{label:"Notes",placeholder:"",description:""}}]}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/team/leave-controller.js","/../components/team")},{b55mWE:4,buffer:3}],23:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.timeline_settings_controller=function($scope,$http,$q,$routeParams,$location,screen_saver_loop,$rootScope,detect_dragging,trello,get_trello_board,date_calc,Todos,Tallys,Team,Timeline,$mdEditDialog){$scope.rows=[],$scope.counter=0,$scope.addRow=function(){var team=new Team({name:$scope.counter});team.$save(function(){}),$scope.rows.push("Row "+$scope.counter),$scope.counter++},Team.query({},function(team){_.each(team,function(row,index){number_days_leave_taken=0,_.each(row.leave_taken,function(leave){leave.start_date>=row.leave_start&&leave.end_date<=row.leave_year_end&&(number_days_leave_taken+=leave.weekday_duration)}),row.number_days_leave_remaining=row.number_days_leave-number_days_leave_taken,$scope.rows.push(row),$scope.counter++})}),$scope.editComment=function(event,dessert){event.stopPropagation();var myArray=[],key="happyCount",obj={};obj[key]=event.target.attributes[0].nodeValue,myArray.push(obj);var promise=$mdEditDialog.small({modelValue:dessert.comment,placeholder:"Add a comment",save:function(input){event.target.innerHTML=input.$modelValue;var query={id:dessert._id};Team.update(query,{myArray:input.$modelValue},function(err,affected,resp){console.log(resp)})},targetEvent:event,validators:{"md-maxlength":30}});promise.then(function(ctrl){var input=ctrl.getInput();input.$viewChangeListeners.push(function(){input.$setValidity("test","test"!==input.$modelValue)})})}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/team/team-controller.js","/../components/team")},{b55mWE:4,buffer:3}],24:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var async=require("async");exports.tech_support_controller=function($scope,$http,$q,$routeParams,$location,$location,$rootScope,trello,tech_get_trello_board,date_calc,Tech_support){$scope.rows=[],$scope._rows=[],Tech_support.query({},function(team){for(var key in team[0]){var dont_shows=["_id","__v","_id","$get","$save","$query","$remove","$delete","toJSON","$update"];dont_shows.indexOf(key)==-1&&$scope.column_headings.push(key)}async.forEach(team,function(row,callback){get_list(row.id,row.list_id,function(){console.log("got list"),row.editable=!0,$scope.rows.push(row),$scope.counter++,callback()})},function(err){return err?next(err):void($scope.gridOptions.data=$scope.rows)})});var lists=[],list=[];list.id="5710a18fc2c7adc11a382e94",lists.push(list);var list=[];list.id="57c6f2715e4ad081f42204ec",lists.push(list);var list=[];list.id="57558712bec1ad7712beb29e",lists.push(list),trello.auth(),$scope.gridOptions=[],$scope.gridOptions.columnDefs=[],$scope.gridOptions={columnDefs:[{field:"list",resizable:!0},{field:"date_created",type:"date"},{field:"last_updated",type:"date"},{field:"name",width:"450",height:"50",resizable:!0},{field:"weekday_duration",displayName:"Age",type:"number"},{field:"category",enableCellEdit:!0,enableFiltering:!0,editableCellTemplate:"ui-grid/dropdownEditor",editDropdownOptionsArray:[{id:"AV",value:"AV"},{id:"TECHNICIANS",value:"TECHNICIANS"},{id:"ELECTRICIAN",value:"ELECTRICIAN"},{id:"CONSERVATORS",value:"CONSERVATORS"},{id:"EXTERNAL",value:"EXTERNAL"},{id:"UNASSIGNED",value:"UNASSIGNED"}]},{field:"type",enableCellEdit:!0,enableFiltering:!0,editableCellTemplate:"ui-grid/dropdownEditor",editDropdownOptionsArray:[{id:"SOFTWARE",value:"SOFTWARE"},{id:"HARDWARE",value:"HARDWARE"},{id:"CONTENT",value:"CONTENT"},{id:"WEAR",value:"WEAR"}]},{field:"difficulty",resizable:!0,type:"number"},{field:"aknowledged",type:"date",resizable:!0},{field:"resolution",resizable:!0}],enableGridMenu:!0,enableSelectAll:!0,enableCellSelection:!0,enableCellEditOnFocus:!0,exporterCsvFilename:"myFile.csv",exporterCsvLinkElement:angular.element(document.querySelectorAll(".custom-csv-link-location")),onRegisterApi:function(gridApi){vm.gridApi=gridApi},pagingOptions:{pageSizes:[250,500,1e3],pageSize:250,totalServerItems:0,currentPage:1},exporterPdfDefaultStyle:{fontSize:9},exporterPdfTableStyle:{margin:[30,30,30,30]},exporterPdfTableHeaderStyle:{fontSize:10,bold:!0,italics:!0,color:"red"},exporterPdfHeader:{text:"My Header",style:"headerStyle"},exporterPdfFooter:function(currentPage,pageCount){return{text:currentPage.toString()+" of "+pageCount.toString(),style:"footerStyle"}},exporterPdfCustomFormatter:function(docDefinition){return docDefinition.styles.headerStyle={fontSize:22,bold:!0},docDefinition.styles.footerStyle={fontSize:10,bold:!0},docDefinition},exporterPdfOrientation:"portrait",exporterPdfPageSize:"LETTER",exporterPdfMaxGridWidth:500,exporterCsvLinkElement:angular.element(document.querySelectorAll(".custom-csv-link-location")),onRegisterApi:function(gridApi){$scope.gridApi=gridApi,gridApi.edit.on.afterCellEdit($scope,function(rowEntity,colDef,newValue,oldValue){var myArray=[],key=colDef.field,obj={};obj[key]=newValue,myArray.push(obj);var query={id:rowEntity._id},query={id:rowEntity._id};Tech_support.update(query,obj,function(err,affected,resp){var comment_text=[colDef.field]+": "+newValue,data={text:comment_text};Trello.post("cards/"+rowEntity._id+"/actions/comments",data)})})}},get_list=function(id,list_id,cb){var query={id:id};Trello.get("cards/"+id+"?fields=idList,dateLastActivity",function(card){Trello.get("lists/"+card.idList+"?fields=name",function(list){console.log(list.name+card.dateLastActivity),Tech_support.update(query,{list:list.name,last_updated:card.dateLastActivity},cb())})})},$scope.rows=[],$scope.column_headings=[],tech_get_trello_board.get_data(lists,function(){console.log("updated latest lists from trello"),Tech_support.query({},function(team){for(var key in team[0]){var dont_shows=["_id","__v","_id","$get","$save","$query","$remove","$delete","toJSON","$update"];dont_shows.indexOf(key)==-1&&$scope.column_headings.push(key)}async.forEach(team,function(row,callback){get_list(row.id,row.list_id,function(){console.log("got list"),row.editable=!0,$scope._rows.push(row),$scope.counter++,callback()})},function(err){return err?next(err):void($scope.gridOptions.data=$scope._rows)})})})}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/tech-support/tech-support-controller.js","/../components/tech-support")},{async:1,b55mWE:4,buffer:3}],25:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.techSupport=function(){return{controller:"tech_support_controller",templateUrl:"./components/tech-support/tech-support-page.html"}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/tech-support/tech-support-directive.js","/../components/tech-support")},{b55mWE:4,buffer:3}],26:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var async=require("async");exports.tech_get_trello_board=function(date_calc,$http,Tech_support){var trello=[];return trello.get_data=function(listx,cb){console.log("trello.get_data");listx.length;async.forEach(listx,function(list,callback2){list_id=list.id,Trello.get("lists/"+list.id+"/cards",function(cards){console.log("get list data");var list=[];list._cards=[],tally=0,card_count=0,async.forEach(cards,function(card,callback){idBoard=card.id,console.log("trello card",card),support_card={id:card.id,name:card.name,list_id:card.idList,last_updated:card.dateLastActivity,tint:1-date_calc.diffDays(card.dateLastActivity)/10,dateLastActivity:card.dateLastActivity,link:card.shortUrl,date_created:new Date(1e3*parseInt(idBoard.substring(0,8),16))},Tech_support.update({id:card.id},support_card,callback())},function(err){return err?next(err):(console.log("done updating mongo"),void callback2())})})},function(err){return err?next(err):(console.log("all done "),void cb())})},trello}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/tech-support/trello-services.js","/../components/tech-support")},{async:1,b55mWE:4,buffer:3}],27:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.timeline_settings_controller=function($scope,$http,$q,$routeParams,$location,screen_saver_loop,$rootScope,detect_dragging,trello,get_trello_board,date_calc,Todos,Tallys,Team,Timeline,$mdEditDialog,Timeline_data){$scope.rows=[],$scope.column_headings=[],$scope.counter=0,$scope.addRow=function(){var data_row=new Timeline_data({name:$scope.counter});data_row.$save(function(){}),$scope.rows.push("Row "+$scope.counter),$scope.counter++},Timeline_data.query({},function(data){_.each(data,function(data_settings,index){Timeline_data.remove({})})});var data_settings=new Timeline_data({type:"text",data_feed_url:"https://www.gov.uk/bank-holidays.json",googlesheet_name:"england-and-wales",track:"public holidays",group:"public holidays",use_moment:!1,value_column:"title",title_column:"title",events_sub_child:"events",start_column:"date",group_id:"public holidayspublic holidays",date_column:"date"}),checked_event_types=[];checked_event_types.push("Tour"),checked_event_types.push("Walk"),checked_event_types.push("Rides"),checked_event_types.push("Tours"),checked_event_types.push("Talk"),checked_event_types.push("Lecture"),checked_event_types.push("Special Event"),checked_event_types.push("Event"),checked_event_types.push("Family");var data_settings=new Timeline_data({type:"numerical",data_feed_url:"http://museums.bristol.gov.uk/sync/data/stats.JSON",googlesheet_name:"stats",track:"emu stats",use_moment:!1,value_column:"value",group_column:"module",group_id:"module",group_id_column:"module",date_column:"date",subgroup_column:"action",start_column:"start_date",end_column:"end_date",val_1:0,val_2:10,val_3:100,val_4:500,val_5:1e3,val_6:2e3,val_7:3e3,val_8:4e3,val_9:5e3,val_10:1e4}),data_settings=new Timeline_data({type:"numerical",use_moment:!0,googlesheet_id:"1ENJ87VM90o15jcZ1yavlVf7F1fg4xePoluyrm2uWlgE",googlesheet_name:"pivot",track:"Shopify",group:"Shopify",group_id:"Shopify",value_column:"value",date_column:"date",val_1:0,val_2:300,val_3:600,val_4:900,val_5:1100,val_6:1200,val_7:1400,val_8:1500,val_9:2e3,val_10:3e3}),data_settings=new Timeline_data({type:"text",googlesheet_id:"1VsSxPQ6rGrP3FWdveX3wwdUlnB1t_Sk2NG6aE0kX92M",googlesheet_name:"Sheet1",use_moment:!1,track:"Arts and Events",colour:"green",title_column:"Event_Title",start_column:"Event_Start",group_column:"Event_Location",end_column:"Event_End",value_column:"value",subgroup_column:"name",date_column:"date"});data_settings.$save(),Timeline_data.query({},function(team){for(var key in team[0]){var dont_shows=["__v","_id","$get","$save","$query","$remove","$delete","toJSON","$update"];dont_shows.indexOf(key)==-1&&$scope.column_headings.push(key)}_.each(team,function(row,index){$scope.rows.push(row),$scope.counter++})}),$scope.editComment=function(event,dessert){event.stopPropagation(),console.log(event);var myArray=[],key="happyCount",obj={};obj[key]=newValue,myArray.push(obj);var promise=$mdEditDialog.small({modelValue:dessert.comment,placeholder:"Add a comment",save:function(input){event.target.innerHTML=input.$modelValue;var query={id:dessert._id};Timeline_data.update(query,{myArray:input.$modelValue},function(err,affected,resp){console.log(resp),console.log(err)})},targetEvent:event,validators:{"md-maxlength":30}});promise.then(function(ctrl){var input=ctrl.getInput();input.$viewChangeListeners.push(function(){input.$setValidity("test","test"!==input.$modelValue)})})}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/timeline-settings/timeline-settings-controller.js","/../components/timeline-settings")},{b55mWE:4,buffer:3}],28:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.timeline_controller=function($scope,$http,$q,$routeParams,$location,$location,$rootScope,trello,get_trello_board,date_calc,Todos,Timeline,Team,kiosk_activity,timeline_functions,timeline_leave_functions,timeline_learning_functions,timeline_loans_functions,timeline_googlesheets_functions,Timeline_data,AuthService,timeline_shopify_functions,Shopify_aggregate){$scope.locked=[],$scope.locked.add_item=!1,$scope.locked["true"]={status:" locked",value:!1},$scope.locked["false"]={status:" unlocked",value:!0},$scope.average_install_length=0,$scope.password=!1,$scope.lockstatus=!1,$scope.average_derig_length=0,$rootScope.addednames=[],$rootScope.track_groups=[],$rootScope.added_track_groups=[],$rootScope.datePicker=[],$rootScope.datePicker.date={startDate:null,endDate:null},$scope.isloggedin=!1,AuthService.isLoggedIn().then(function(user){$scope.isloggedin=!0}),$scope.dateRangeOptions={locale:{format:"DD/MM/YYYY"},eventHandlers:{"apply.daterangepicker":function(){if(date=$rootScope.datePicker.date,days=timeline_functions.days(moment(date.startDate),moment(date.endDate)),date){html=timeline_functions.event_html($scope.selected_item,"","",moment(date.startDate).format("MMM Do YYYY"),moment(date.endDate).format("MMM Do YYYY")||"",$rootScope.selected_notes+"("+days+" days)");var options={id:$scope.selected_timeline_id,content:html,start:moment(date.startDate)._d,end:moment(date.endDate)._d,start_date:moment(date.startDate)._d,end_date:moment(date.endDate)._d};Timeline.update({id:$scope.selected_id},options),timeline_functions.updateItem(options)}}}},$scope.$watch("selected_notes",function(selected_note){date=$rootScope.datePicker.date,days=timeline_functions.days(moment(date.startDate),moment(date.endDate)),html=timeline_functions.event_html($scope.selected_item,"","",moment(date.startDate).format("MMM Do YYYY"),moment(date.endDate).format("MMM Do YYYY")||"",selected_note,days);var options={id:$scope.selected_timeline_id,content:html,notes:selected_note};Timeline.update({id:$scope.selected_id},options),timeline_functions.updateItem(options)}),$scope.$watch("selected_item",function(selected_item){date=$rootScope.datePicker.date,days=timeline_functions.days(moment(date.startDate),moment(date.endDate)),html=timeline_functions.event_html(selected_item,"","",moment(date.startDate).format("MMM Do YYYY"),moment(date.endDate).format("MMM Do YYYY")||"",$rootScope.selected_notes,days);var options={id:$scope.selected_timeline_id,content:html,name:selected_item};Timeline.update({id:$scope.selected_id},options),timeline_functions.updateItem(options)}),$scope.$watch("stack",function(stack){"undefined"!=typeof stack&&(options={stack:stack},timeline_functions.updateOptions(options))}),$scope.editing=[],$scope.timeline=Timeline.query(),$scope.removeTimeline=function(id){Timeline.remove({id:id})},Timeline.query({},function(team){_.each(team,function(row,index){var timeline=$scope.timeline[index];"Bristol Archives"==timeline.group&&Timeline.remove({id:timeline._id},function(){})})}),$scope.save=function(){if($scope.newTimeline&&!($scope.newTimeline.length<1)){var timeline=new Timeline({name:$scope.newTimeline,completed:!1});timeline.$save(function(){$scope.timeline.push(timeline),$scope.newTimeline=""})}},$scope.update=function(index){var timeline=$scope.timeline[index];Timeline.update({id:timeline._id},timeline),$scope.editing[index]=!1},$scope.edit=function(index){$scope.editing[index]=angular.copy($scope.timeline[index])},$scope.cancel=function(index){$scope.timeline[index]=angular.copy($scope.editing[index]),$scope.editing[index]=!1},$scope.remove=function(index){var timeline=$scope.timeline[index];Timeline.remove({id:timeline._id},function(){$scope.timeline.splice(index,1)})},$scope.datePicker="",$scope.datePicker.date={startDate:null,endDate:null},$scope.machine_types=[],$scope.type="all",$scope.changedValue=function(type){$scope.data=[],$scope.series=[],$scope.category=[],$scope.type=type,plot_graph()},$scope.machinesx=["all"],$scope.filterCondition={machine:"neq"},$scope.$watch("type",function(type){$scope.machinesx=["all"]}),$scope.$watch("machine",function(){}),$scope.machine_types_selection=[],$scope.categories=[],$scope.category_selection=[];$scope.data=[],$scope.day_data=[],$scope.team=[],$scope.labels=$scope.team,$scope.chart_title="Machine activity";var groups=new vis.DataSet,dates=new vis.DataSet,dates=new vis.DataSet,second_dates=new vis.DataSet;install_days_tally=0,install_instance_tally=0,derig_tally=0,derig_days_tally=0,Timeline.query({},function(team){_.each(team,function(data){data.days=timeline_functions.days(data.start_date,data.end_date);var end_date;""!=data.group&&""!=data.start_date&&("undefined"!=typeof data.end_date&&(end_date=moment(data.end_date).format("MMM Do YY")),"INSTALL"==data._type?(install_instance_tally++,install_days_tally+=data.days):"DERIG"==data._type&&(derig_tally++,derig_days_tally+=data.days),$rootScope.added_track_groups.indexOf(data._type)==-1&&$rootScope.added_track_groups.push(data._type),second_dates.add({_id:data._id,className:data.className,select_group:!1,name:data.name,_type:data._type,track:data._type,content:timeline_functions.event_html(data.name,"","",moment(data.start_date).format("MMM Do YY"),end_date||"",data.notes,data.days),group:data.group||"NA",order:data._type,notes:data.notes,title:data.notes,start:data.start_date,days:data.days,end:data.end_date}))}),timeline_functions.get_events().then(function(data){var checked_event_types=[];$("#add_emu_exhibitions").is(":checked")&&(checked_event_types.push("Exhibition"),checked_event_types.push("Gallery")),checked_event_types.push("Family"),checked_event_types.push("Tour"),checked_event_types.push("Walk"),checked_event_types.push("Rides"),checked_event_types.push("Tours"),checked_event_types.push("Talk"),checked_event_types.push("Lecture"),checked_event_types.push("Special Event"),checked_event_types.push("Event"),_.each(data.data,function(events){_.each(events,function(event){if("Exhibition"==event.type||"Gallery"==event.type){new Date(event.endDate);if(""==event.endDate||event.endDate==event.startDate){new Date(event.startDate)}var group="NA";group="Exhibition"==event.type||"Gallery"==event.type?event.event_space||"NA":event.type||"NA";var eventimages=!1;event.images[0]&&(eventimages=event.images[0].irn);var htmlContent=timeline_functions.event_html(event.name,event.images[0],eventimages,event.startDate,event.endDate);$rootScope.added_track_groups.indexOf(event.venue)==-1&&($rootScope.added_track_groups.push(event.venue),$rootScope.track_groups.push({track:event.venue})),select_group=!0,$routeParams.track&&(select_group=!1,"Arts and Events"==$routeParams.track),event.startDate&&dates.add({group:group,select_group:select_group,title:event.name,name:event.name,type:"background",content:htmlContent,order:event.venue+event.event_space,track:event.venue,start:new Date(event.startDate),end:event.endDate,className:"green",event_type:"WHATS ON"})}})}),_.each(second_dates._data,function(date){dates.add(date)}),$scope.total_install_derig=install_days_tally+derig_days_tally,$scope.average_install_length=Math.round(install_days_tally/install_instance_tally),$scope.average_derig_length=Math.round(derig_days_tally/derig_tally),timeline_functions.setup(Timeline,groups,dates),$scope.team_leave(),$scope.learning_bookings(),$scope.loans(),$scope.shopify();var checked_event_types=[];checked_event_types.push("Tour"),checked_event_types.push("Walk"),checked_event_types.push("Rides"),checked_event_types.push("Tours"),checked_event_types.push("Talk"),checked_event_types.push("Lecture"),checked_event_types.push("Special Event"),checked_event_types.push("Event"),checked_event_types.push("Family"),Timeline_data.query({},function(data){_.each(data,function(data_settings){console.log("data_settings",data_settings),$scope.timeline_googlesheets_functions(data_settings)})}),$scope.$watch("track_groups|filter:{selected:true}",function(nv){var selection=nv.map(function(track_groups){return track_groups.track});timeline_functions.changeTracks(selection)},!0),$scope.$watch("groups|filter:{selected:true}",function(nv){var selection=nv.map(function(group){return group.content});timeline_functions.changeGroups(selection),$(".draggable,.iconbar").css({top:"0px"})},!0)}),$scope.exportCSV=function(){data_to_export=$rootScope.timeline.itemsData.getDataSet(),visibles=$rootScope.timeline.getVisibleItems(),events=[],_.each(data_to_export._data,function(event,index){if(visibles.indexOf(event.id)!=-1){console.log("in");var _event={id:event.id,name:event.name,start_date:moment(event.start).format("DD/MM/YYYY"),end_date:moment(event.end).format("DD/MM/YYYY"),event_type:event.track};events.push(_event)}}),timeline_functions.export_JSON_to_CSV(events,"Timeline dates",!0)},$scope.leaveChanged=function(leave){},$scope.team_leave=function(){if($scope.isloggedin){console.log($scope.user);var groups=$rootScope.groups;$rootScope.timeline.setGroups(groups),timeline_leave_functions.get_eventss().then(function(data){timeline_leave_functions.add_leave(data,function(leave_dates){$rootScope.leave_groups=timeline_functions.loadgroups(leave_dates),_.each($rootScope.leave_groups,function(_group){$rootScope.groups.push(_group)}),_.each(leave_dates._data,function(date){$rootScope.timeline.itemsData.getDataSet().add(date)})})})}},$scope.shopify=function(){var groups=$rootScope.groups;$rootScope.timeline.setGroups(groups),Shopify_aggregate.query({},function(datax){timeline_shopify_functions.add_events(datax,function(public_dates){$rootScope.leave_groups=timeline_functions.loadgroups(public_dates),_.each($rootScope.leave_groups,function(_group){$rootScope.groups.push(_group)}),console.log("$rootScope.groups",$rootScope.groups),_.each(public_dates._data,function(date){$rootScope.timeline.itemsData.getDataSet().add(date)})})})},$scope.loans=function(){var groups=$rootScope.groups;$rootScope.timeline.setGroups(groups),timeline_loans_functions.get_events().then(function(datax){timeline_loans_functions.add_events(datax,function(public_dates){$rootScope.leave_groups=timeline_functions.loadgroups(public_dates),_.each($rootScope.leave_groups,function(_group){$rootScope.groups.push(_group)}),console.log("$rootScope.groups",$rootScope.groups),_.each(public_dates._data,function(date){$rootScope.timeline.itemsData.getDataSet().add(date)})})})},$scope.timeline_googlesheets_functions=function(data_settings){var groups=$rootScope.groups;$rootScope.timeline.setGroups(groups),timeline_googlesheets_functions.get_events(data_settings)},$scope.learning_bookings=function(){var groups=$rootScope.groups;$rootScope.timeline.setGroups(groups),timeline_learning_functions.get_events().then(function(datax){timeline_learning_functions.add_events(datax,function(public_dates){$rootScope.leave_groups=timeline_functions.loadgroups(public_dates),_.each($rootScope.leave_groups,function(_group){$rootScope.groups.push(_group)}),console.log("$rootScope.groups",$rootScope.groups),_.each(public_dates._data,function(date){$rootScope.timeline.itemsData.getDataSet().add(date)})})})},$scope.list1={title:"PROVISIONAL DATE"},$scope.list2={title:"INSTALL"},$scope.list3={title:"DERIG"},$scope.onDropComplete=function(data,evt){}})},exports.BasicDemoCtrl=function($mdDialog,$scope,$http,$q,$routeParams,$location){var originatorEv;this.openMenu=function($mdMenu,ev){originatorEv=ev,$mdMenu.open(ev)},this.notificationsEnabled=!1,this.toggleNotifications=function(){this.notificationsEnabled=!this.notificationsEnabled},this.redial=function(){},this.checkVoicemail=function(){}},exports.add_timeline_items_controller=function($scope,$http,$q,$routeParams,$location,$location,$rootScope,trello,get_trello_board,date_calc,Todos,Timeline,Team,kiosk_activity,timeline_functions,timeline_leave_functions,timeline_learning_functions,timeline_loans_functions,timeline_googlesheets_functions,Timeline_data,AuthService,timeline_shopify_functions,Shopify_aggregate){$scope.unlocked=!1,$scope.$watch("locked",function(locked){console.log(locked),$scope.locked=locked})},exports.add_timeline_info_box=function($scope,$http,$q,$routeParams,$location,$location,$rootScope,trello,get_trello_board,date_calc,Todos,Timeline,Team,kiosk_activity,timeline_functions,timeline_leave_functions,timeline_learning_functions,timeline_loans_functions,timeline_googlesheets_functions,Timeline_data,AuthService,timeline_shopify_functions,Shopify_aggregate){}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/timeline/timeline-controller.js","/../components/timeline")},{b55mWE:4,buffer:3}],29:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.timeLine=function(){return{controller:"timeline_controller",templateUrl:"./components/timeline/timeline-page.html"}},exports.timelineMenu=function(){return{controller:"BasicDemoCtrl",templateUrl:"./components/timeline/menu.html"}},exports.addtimelineItems=function(){return{controller:"add_timeline_items_controller",templateUrl:"./components/timeline/add-items-block.html"}},exports.timelineInfobox=function(){return{controller:"add_timeline_info_box",templateUrl:"./components/timeline/info-box.html"}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/timeline/timeline-directive.js","/../components/timeline")},{b55mWE:4,buffer:3}],30:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.timeline_googlesheets_functions=function(timeline_functions,$http,Timeline,$rootScope,$routeParams){return{get_events:function(data_settings){var self=this;return data_settings.data_feed_url?$http.get(data_settings.data_feed_url).then(function(datax){self.add_events(data_settings,datax,function(public_dates){$rootScope.leave_groups=timeline_functions.loadgroups(public_dates),_.each($rootScope.leave_groups,function(_group){$rootScope.groups.push(_group)}),_.each(public_dates._data,function(date){$rootScope.timeline.itemsData.getDataSet().add(date)})})}):$http.get("https://script.google.com/macros/s/AKfycbzij_r2bTK6fiWU-h29rglHktd8pwbLfrti82Or68TkEjEHrOc/exec?id="+data_settings.googlesheet_id).then(function(datax){self.add_events(data_settings,datax,function(public_dates){$rootScope.leave_groups=timeline_functions.loadgroups(public_dates),_.each($rootScope.leave_groups,function(_group){$rootScope.groups.push(_group)}),_.each(public_dates._data,function(date){$rootScope.timeline.itemsData.getDataSet().add(date)})})})},add_events:function(data_settings,eventss,fn){var visevents=new vis.DataSet,self=this;new Date;return $.each(eventss.data[data_settings.googlesheet_name].events||eventss.data[data_settings.googlesheet_name],function(index,event){if($rootScope.added_track_groups.indexOf(data_settings.track)==-1&&($rootScope.added_track_groups.push(data_settings.track),$rootScope.track_groups.push({track:data_settings.track})),"numerical"==data_settings.type)scale_class="",event[data_settings.value_column]>data_settings.val_1&&event[data_settings.value_column]<=data_settings.val_2&&(scale_class="scale_01"),event[data_settings.value_column]>data_settings.val_2&&event[data_settings.value_column]<=data_settings.val_3&&(scale_class="scale_02"),event[data_settings.value_column]>data_settings.val_3&&event[data_settings.value_column]<=data_settings.val_4&&(scale_class="scale_03"),event[data_settings.value_column]>data_settings.val_4&&event[data_settings.value_column]<=data_settings.val_5&&(scale_class="scale_05"),event[data_settings.value_column]>data_settings.val_5&&event[data_settings.value_column]<=data_settings.val_6&&(scale_class="scale_06"),event[data_settings.value_column]>data_settings.val_6&&event[data_settings.value_column]<=data_settings.val_7&&(scale_class="scale_07"),event[data_settings.value_column]>data_settings.val_7&&event[data_settings.value_column]<=data_settings.val_8&&(scale_class="scale_08"),event[data_settings.value_column]>data_settings.val_8&&event[data_settings.value_column]<=data_settings.val_9&&(scale_class="scale_09"),event[data_settings.value_column]>data_settings.val_9&&event[data_settings.value_column]<=data_settings.val_10&&(scale_class="scale_09"),event[data_settings.value_column]>data_settings.val_10&&(scale_class="scale_10"),1==data_settings.use_moment?(start_date=moment(event[data_settings.date_column])._d,end_date=moment(event[data_settings.date_column])._d,end_date.setDate(end_date.getDate()+1)):(start_date=event[data_settings.start_column],end_date=event[data_settings.end_column]),select_group=!1,$routeParams.track&&(select_group=!1,$routeParams.track==data_settings.track&&(select_group=!0)),visevents.add({content:"",select_group:select_group,group:event[data_settings.group_column]||data_settings.group,group_id:event[data_settings.group_id_column]||data_settings.track,name:event[data_settings.value_column].toFixed(2),title:event[data_settings.value_column].toFixed(2),
event_type:data_settings.track,track:data_settings.track,order:data_settings.track,type:data_settings.event_type||"",subgroup:event[data_settings.subgroup_column],start:start_date,end:end_date,className:scale_class});else{if(1==data_settings.use_moment)start_date=moment(event[data_settings.date_column])._d,end_date=moment(event[data_settings.date_column])._d,end_date.setDate(end_date.getDate()+1);else{start_date=new Date(event[data_settings.start_column]);var end_date=new Date(start_date).setDate(start_date.getDate()+1);end_date=new Date(start_date),end_date.setDate(start_date.getDate()+1)}var event_image_irn,event_image=!1;event.images&&event.images[0]&&(event_image=!0,event_image_irn=event.images[0].irn);var htmlContent=self.event_html(event[data_settings.title_column],event_image,event_image_irn,start_date,end_date);select_group=!1,$routeParams.track&&(select_group=!1,$routeParams.track==data_settings.track&&(select_group=!0)),this_event={content:htmlContent,select_group:select_group,group_id:event[data_settings.group_column]+data_settings.track||data_settings.track,name:event[data_settings.title_column]||"NA",title:event[data_settings.title_column]||"NA",event_type:data_settings.track,track:data_settings.track,order:data_settings.track,type:data_settings.event_type||"",start:start_date,className:data_settings.colour},""!=data_settings.subgroup_column&&(this_event.subgroup=event[data_settings.subgroup_column]),""!=data_settings.group&&(this_event.group=data_settings.group),data_settings.group_column&&(this_event.group=event[data_settings.group_column]),this_event.end=end_date,this_event.start&&this_event.group?visevents.add(this_event):console.log("no start or group",this_event)}}),fn(visevents)},event_html:function(name,showimage,image,start_date,end_date,notes){var notes=notes||"",htmlContent='<div class="titlediv" >';return htmlContent+='<div class="title_heading">',htmlContent+=name,htmlContent+="</div>",htmlContent+="<span> ",htmlContent+=start_date,htmlContent+="<span>",htmlContent+="<p>"+notes,showimage&&(htmlContent+='<div class="image_box">',htmlContent+='<img src="http://museums.bristol.gov.uk/multimedia/entry.php?request=resource&irn='+image+'&height=50&format=jpeg" />',htmlContent+="</div>"),htmlContent+="</div>"},updateOptions:function(options){timeline.setOptions(options)},updateItem:function(options){options.id=$rootScope.selected_t_id,timeline.itemsData.getDataSet().update(options)}}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/timeline/timeline-googlesheets-services.js","/../components/timeline")},{b55mWE:4,buffer:3}],31:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.timeline_learning_functions=function($http,Timeline,$rootScope){return{get_events:function(){var SheetToJSONServiceURL="http://emudev-app1/~brlsmp4/learning/scripts/php/api/api.php?table=bookings";return console.log(SheetToJSONServiceURL),$http.get(SheetToJSONServiceURL)},add_events:function(eventss,fn){var visevents=new vis.DataSet;new Date;return tempdates=[],$rootScope.added_track_groups.indexOf("school visits")==-1&&($rootScope.added_track_groups.push("school visits"),$rootScope.track_groups.push({track:"school visits"})),console.log("eventss",eventss),$.each(eventss.data,function(index,event){end_date=new Date(event.event_date),end_date.setDate(end_date.getDate()+1),""!=event.school_name&&visevents.add({content:event.school_name,name:event.school_name,group:event.site,group_id:event.site+"school visits",event_type:"public holidays",track:"school visits",order:"school visits",className:"orange",start:event.event_date,end:end_date,subgroup:"na",notes:event.booking_form_info})}),fn(visevents)},event_html:function(name,showimage,image,start_date,end_date,notes){var notes=notes||"",htmlContent='<div class="titlediv" >';return htmlContent+='<div class="title_heading">',htmlContent+=name,htmlContent+="</div>",htmlContent+="<span> ",htmlContent+=start_date+"-"+end_date,htmlContent+="<span>",htmlContent+="<p>"+notes,showimage&&(htmlContent+='<div class="image_box">',htmlContent+='<img src="http://museums.bristol.gov.uk/multimedia/entry.php?request=resource&irn='+image+'&height=50&format=jpeg" />',htmlContent+="</div>"),htmlContent+="</div>"},updateOptions:function(options){timeline.setOptions(options)},updateItem:function(options){options.id=$rootScope.selected_t_id,timeline.itemsData.getDataSet().update(options)}}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/timeline/timeline-learning-bookings-services.js","/../components/timeline")},{b55mWE:4,buffer:3}],32:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.timeline_leave_functions=function($http,Timeline,$rootScope){return{get_eventss:function(){return $http.get("https://script.google.com/macros/s/AKfycbzij_r2bTK6fiWU-h29rglHktd8pwbLfrti82Or68TkEjEHrOc/exec?id=1v69qKCc-8FYx8VuKPZMr1QkTMfJsh7qZTZJ7q7o3YTg")},add_leave:function(eventss,fn){var mylastfrom_date,visevents=new vis.DataSet,names=(new Date,[]),name=[],oldName="",lastfrom_date="";return tempdates=[],$.each(eventss.data.tally,function(index,leave_record){if(leave_record.NAME!=oldName){""!=name.start_date&&(names.push(name),name=[]),oldName=leave_record.NAME,lastfrom_date=leave_record.DATE,mylastfrom_date=new Date(leave_record.DATE),name.start_date=new Date(leave_record.DATE),name.name=leave_record.NAME,name.group=leave_record.TYPE;var end_date=new Date(lastfrom_date);end_date.setDate(end_date.getDate()+1),name.end_date=end_date}else if(new Date(mylastfrom_date)-new Date(leave_record.DATE)==-864e5)mylastfrom_date=new Date(leave_record.DATE),name.end_date=new Date(leave_record.DATE),name.end_date.setDate(name.end_date.getDate()+1);else{names.push(name),name=[],name.name=leave_record.NAME,name.group=leave_record.TYPE,name.start_date=new Date(leave_record.DATE);var non_consecutive_end_date=new Date(leave_record.DATE);name.end_date=non_consecutive_end_date.setDate(non_consecutive_end_date.getDate()+1)}}),$.each(names,function(index,value){""!=value.name&&value.start_date&&($rootScope.added_track_groups.indexOf("leave")==-1&&($rootScope.added_track_groups.push("leave"),$rootScope.track_groups.push({track:"leave"})),visevents.add({content:value.name,group:value.group,group_id:value.group+"leave",id:value.id,name:value.name,event_type:"leave",track:"leave",order:"leave",subgroup:value.name,start:value.start_date,end:value.end_date,className:"orange"}))}),fn(visevents)},event_html:function(name,showimage,image,start_date,end_date,notes){var notes=notes||"",htmlContent='<div class="titlediv" >';return htmlContent+='<div class="title_heading">',htmlContent+=name,htmlContent+="</div>",htmlContent+="<span> ",htmlContent+=start_date+"-"+end_date,htmlContent+="<span>",htmlContent+="<p>"+notes,showimage&&(htmlContent+='<div class="image_box">',htmlContent+='<img src="http://museums.bristol.gov.uk/multimedia/entry.php?request=resource&irn='+image+'&height=50&format=jpeg" />',htmlContent+="</div>"),htmlContent+="</div>"},get_events:function(){return $http.get("http://museums.bristol.gov.uk/sync/data/events.JSON")},updateOptions:function(options){timeline.setOptions(options)},updateItem:function(options){options.id=$rootScope.selected_t_id,timeline.itemsData.getDataSet().update(options)}}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/timeline/timeline-leave-services.js","/../components/timeline")},{b55mWE:4,buffer:3}],33:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.timeline_loans_functions=function($http,Timeline,$rootScope){return{get_events:function(){var SheetToJSONServiceURL="http://emudev-app1/team/digital/projects/scripts/php/emu/loans.php?start_date=2014-01-01";return console.log(SheetToJSONServiceURL),$http.get(SheetToJSONServiceURL)},add_events:function(eventss,fn){var visevents=new vis.DataSet,start_date=(new Date,""),start_date="";return tempdates=[],$rootScope.added_track_groups.indexOf("loans")==-1&&($rootScope.added_track_groups.push("loans"),$rootScope.track_groups.push({track:"loans"})),console.log("eventss",eventss),$.each(eventss.data,function(index,event){start_date=new Date(event.start_date),end_date=new Date(event.end_date),end_date.setDate(end_date.getDate()+1),""!=event.title&&""!=start_date&&visevents.add({content:event.title,name:event.title,group:event.direction,event_type:"loans",track:"loans",order:"loans",className:"green",start:start_date,end:end_date,subgroup:"na",notes:event.event_type})}),fn(visevents)},event_html:function(name,showimage,image,start_date,end_date,notes){var notes=notes||"",htmlContent='<div class="titlediv" >';return htmlContent+='<div class="title_heading">',htmlContent+=name,htmlContent+="</div>",htmlContent+="<span> ",htmlContent+=start_date+"-"+end_date,htmlContent+="<span>",htmlContent+="<p>"+notes,showimage&&(htmlContent+='<div class="image_box">',htmlContent+='<img src="http://museums.bristol.gov.uk/multimedia/entry.php?request=resource&irn='+image+'&height=50&format=jpeg" />',htmlContent+="</div>"),htmlContent+="</div>"},updateOptions:function(options){timeline.setOptions(options)},updateItem:function(options){options.id=$rootScope.selected_t_id,timeline.itemsData.getDataSet().update(options)}}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/timeline/timeline-loans-services.js","/../components/timeline")},{b55mWE:4,buffer:3}],34:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.timeline_functions=function($http,Timeline,$rootScope){return{export_JSON_to_CSV:function(JSONData,ReportTitle,ShowLabel){var arrData="object"!=typeof JSONData?JSON.parse(JSONData):JSONData;console.log("arrData",arrData);var CSV="";if(CSV+=ReportTitle+"\r\n\n",ShowLabel){var row="";for(var index in arrData[0])row+=index+",";row=row.slice(0,-1),CSV+=row+"\r\n"}for(var i=0;i<arrData.length;i++){var row="";for(var index in arrData[i])row+='"'+arrData[i][index]+'",';row.slice(0,row.length-1),CSV+=row+"\r\n"}if(""==CSV)return void alert("Invalid data");var fileName="MyReport_";fileName+=ReportTitle.replace(/ /g,"_");var uri="data:text/csv;charset=utf-8,"+escape(CSV),link=document.createElement("a");link.href=uri,link.style="visibility:hidden",link.download=fileName+".csv",document.body.appendChild(link),link.click(),document.body.removeChild(link)},prettyConfirm:function(title,text,callback){swal({title:title,text:text,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55"},callback)},prettyPrompt:function(title,text,inputValue,callback){swal({title:title,text:text,type:"input",showCancelButton:!0,inputValue:inputValue},callback)},logEvent:function(event,properties){document.getElementById("log"),document.createElement("div")},enable_event_drop:function(event){var self=this;$(".vis-group").droppable({accept:".date_add",drop:function(event,ui){function add_item(group,time,value,colour,days){date_dropped=moment(time).startOf("day")._d;ui.draggable[0].id;target_date=time,_days=self.days(moment(date_dropped).startOf("day")._d,moment(date_dropped).add(days,"days")._d);var new_date={content:self.event_html(value,"","",moment(date_dropped).startOf("day")._d,moment(date_dropped).add(days,"days")._d,"",_days),name:value,group:group,className:colour||"",_type:ui.draggable[0].innerHTML,start_date:new Date(moment(date_dropped).startOf("day")._d),end_date:new Date(moment(date_dropped).add(days,"days")._d),days:_days};new Timeline(new_date).$save(function(_item){new_date.start=_item.start_date,new_date.end=_item.end_date,new_date._id=_item._id,new_date._type=ui.draggable[0].innerHTML,timeline.itemsData.getDataSet().add(new_date),setTimeout(function(){$(ui.draggable[0]).show()},1e3)})}$(".already-dropped").length||($("body").addClass("already-dropped"),setTimeout(function(){$(".already-dropped").removeClass("already-dropped")},100),event.preventDefault(),time=timeline.getEventProperties(event).time,group=timeline.getEventProperties(event).group,$(ui.draggable[0]).hide(),"PROVISIONAL DATE"==ui.draggable[0].innerHTML?self.prettyPrompt("Add item","Enter text content for new item:","",function(value){value&&add_item(group,time,value,"blue",30)}):add_item(group,time,ui.draggable[0].innerHTML,"red",7))}})},unlock:function(unlock){timeline.setOptions({editable:unlock})},changeTracks:function(selection){var groups=new vis.DataSet($rootScope.groups),list=(new vis.DataSet($rootScope.leave_groups),groups.get({filter:function(item){return selection.indexOf(item.track)!=-1}}));timeline.setGroups(list),this.enable_event_drop()},changeGroups:function(selection){var groups=new vis.DataSet($rootScope.groups),list=groups.get({filter:function(item){return selection.indexOf(item.content)!=-1}});timeline.setGroups(list),this.enable_event_drop()},days:function(start,end){var a=moment(start),b=moment(end);return b.diff(a,"days")},loadgroups:function(items){var _groups=[];return _.each(items._data,function(value){"0000-00-00"!=value.start_date&&"0000-00-00"!=value.end_date&&""!=value.start_date&&""!=value.end_date&&""!=value.project_name&&$.inArray(value.group,$rootScope.addednames)==-1&&($rootScope.addednames.push(value.group),content=value.group||"NA","temporary exhibition gallery"==value.group.toLowerCase()&&(content="<b>M SHED:</b> "+value.group),"window on bristol"==value.group.toLowerCase()&&(content="<b>M SHED:</b> "+value.group),"first floor foyer"==value.group.toLowerCase()&&(content="<b>M SHED:</b> "+value.group),_groups.push({id:value.group,track:value.track,order:value.order,event_type:value.event_type,content:content,event_typeSORT:content,selected:value.select_group}))}),console.log(_groups),_groups},event_html:function(name,showimage,image,start_date,end_date,notes,days){var notes=notes||"",htmlContent='<div class="titlediv" >';return htmlContent+='<div class="title_heading">',showimage&&(htmlContent+='<div class="image_box">',htmlContent+='<img src="http://museums.bristol.gov.uk/multimedia/entry.php?request=resource&irn='+image+'&height=50&format=jpeg" />',htmlContent+="</div>"),htmlContent+=name,days>0&&end_date&&(htmlContent+=" - "+days+" days"),htmlContent+="</div>",htmlContent+="<span> ",htmlContent+=start_date,end_date&&(htmlContent+="-"+end_date),htmlContent+="<span>",htmlContent+="</div>",htmlContent+='<div class="notes">',htmlContent+="<p>"+notes,htmlContent+="</div>"},selected_data:function(event){console.log("get ID to update"),selected_timeline_id=event.items[0],selected_timeline_id&&(selected_item=timeline.itemsData.getDataSet().get(selected_timeline_id),console.log(selected_item),$rootScope.selected_timeline_id=selected_timeline_id,$rootScope.selected_item=selected_item.name,$rootScope.selected_type=selected_item._type,selected_item.days>0&&($rootScope.selected_days=" - "+selected_item.days+" days"),$rootScope.selected_id=selected_item._id,$rootScope.selected_notes=selected_item.notes,console.log("startDate"+new Date(selected_item.start)),$rootScope.datePicker.date={startDate:new Date(selected_item.start),endDate:new Date(selected_item.end)})},get_events:function(){return $http.get("http://museums.bristol.gov.uk/sync/data/events.JSON")},updateOptions:function(options){$rootScope.timeline.setOptions(options)},updateItem:function(options){"undefined"!=typeof timeline&&timeline.itemsData.getDataSet().update(options)},setup:function(Timeline,groups,dates){var self=this,options={min:new Date(2014,0,1),max:new Date(2022,0,1),zoomMin:864e5,zoomMax:13392e8,width:"100%",maxHeight:"900px",moveable:!0,itemsAlwaysDraggable:!0,snap:function(date,scale,step){return date},stack:!1,orientation:{axis:"top"},editable:!1,groupOrder:"order",onMove:function(item,callback){$rootScope.datePicker.date={startDate:new Date(item.start),endDate:new Date(item.end)};var _timeline=new Timeline({content:self.event_html(item.name,"","",item.start,item.end,item.notes),group:item.group,start_date:item.start,end_date:item.end,_id:item._id});Timeline.update({id:item._id},_timeline),callback(item)},onUpdate:function(item,callback){self.prettyPrompt("Update item","Edit items text:",item.content,function(value){if(value){item.content=value,callback(item),days=self.days(item.start,item.end);var _timeline=new Timeline({content:self.event_html(value,"","",item.start,item.end,item.notes,days),name:item.name,group:item.group,start_date:item.start,end_date:item.end,days:self.days(item.start,item.end)});Timeline.update({id:item._id},_timeline),callback(item)}else callback(null)})},onAdd:function(item,callback){self.prettyPrompt("Add note","Add some notes to this date:",item.content,function(value){if(value){item.content=value,callback(item),days=self.days(item.start,moment(item.start).add(5,"days"));new Timeline({content:self.event_html(value,"","",item.start,moment(item.start).add(5,"days"),"",days),name:value,group:item.group,type:"note",start_date:item.start,className:"green"}).$save(function(_item){item._id=_item._id,console.log("add")})}else callback(null)})},onRemove:function(item,callback){return item._id?(Timeline.remove({id:item._id}),void callback(item)):(sweetAlert("you can't remove this item from here, sorry :)"),!1)}},container=document.getElementById("example-timeline"),self=this;$("body").keydown(function(e){if(37==e.keyCode)move(.2);else if(39==e.keyCode)move(-.2);else if(38==e.keyCode)zoom(-.2);else if(40==e.keyCode)return zoom(.2),!1}),timeline=new vis.Timeline(container),groups=self.loadgroups(dates),$rootScope.rawData=dates,$rootScope.groups=groups;var groups=new vis.DataSet(groups),list=groups.get({filter:function(item){return item}});timeline.setGroups(list),$rootScope.myGroup={selected:{}},$rootScope.groups=list,timeline.setItems(dates),timeline.setOptions(options),timeline.fit(),timeline.on("select",function(properties){self.selected_data(properties)}),$rootScope.timeline=timeline,move=function(percentage){var range=this.timeline.getWindow(),interval=range.end-range.start;this.timeline.setWindow({start:range.start.valueOf()-interval*percentage,end:range.end.valueOf()-interval*percentage})},zoom=function(percentage){var range=this.timeline.getWindow(),interval=range.end-range.start;this.timeline.setWindow({start:range.start.valueOf()-interval*percentage,end:range.end.valueOf()+interval*percentage})},zoomIn=function(){this.zoom(-.2)},zoomOut=function(){this.zoom(.2)},moveLeft=function(){this.move(.2)},moveRight=function(){this.move(-.2)},dates.on("*",function(event,properties){self.logEvent(event,properties)}),self.enable_event_drop()}}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/timeline/timeline-services.js","/../components/timeline")},{b55mWE:4,buffer:3}],35:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.timeline_shopify_functions=function($http,Timeline,$rootScope){return{get_events:function(){var SheetToJSONServiceURL="http://emudev-app1/team/digital/projects/scripts/php/emu/loans.php?start_date=2014-01-01";return console.log(SheetToJSONServiceURL),$http.get(SheetToJSONServiceURL)},add_events:function(eventss,fn){var visevents=new vis.DataSet;return tempdates=[],$rootScope.added_track_groups.indexOf("Shopify product types")==-1&&($rootScope.added_track_groups.push("Shopify product types"),$rootScope.track_groups.push({track:"Shopify product types"})),console.log("shop products",eventss),$.each(eventss,function(index,event){console.log("shop event",event),scale_class="";var val_1=0,val_2=2,val_3=4,val_4=6,val_5=8,val_6=10,val_7=20,val_8=30,val_9=40,val_10=50,count="count";event[count]>val_1&&event[count]<=val_2&&(scale_class="scale_01"),event[count]>val_2&&event[count]<=val_3&&(scale_class="scale_02"),event[count]>val_3&&event[count]<=val_4&&(scale_class="scale_03"),event[count]>val_4&&event[count]<=val_5&&(scale_class="scale_05"),event[count]>val_5&&event[count]<=val_6&&(scale_class="scale_06"),event[count]>val_6&&event[count]<=val_7&&(scale_class="scale_07"),event[count]>val_7&&event[count]<=val_8&&(scale_class="scale_08"),event[count]>val_8&&event[count]<=val_9&&(scale_class="scale_09"),event[count]>val_9&&event[count]<=val_10&&(scale_class="scale_09"),event[count]>val_10&&(scale_class="scale_10");var start_date=new Date(event._id.month+"/"+event._id.day+"/"+event._id.year),end_date=new Date(start_date);end_date.setDate(end_date.getDate()+1);var shopEvent={content:"",title:event.count,name:event.count,group:event._id.type,track:"Shopify product types",order:"Shopify product types",className:scale_class,start:start_date,end:end_date};console.log("shopEvent",shopEvent),visevents.add(shopEvent)}),fn(visevents)},event_html:function(name,showimage,image,start_date,end_date,notes){var notes=notes||"",htmlContent='<div class="titlediv" >';return htmlContent+='<div class="title_heading">',htmlContent+=name,htmlContent+="</div>",htmlContent+="<span> ",htmlContent+=start_date+"-"+end_date,htmlContent+="<span>",htmlContent+="<p>"+notes,showimage&&(htmlContent+='<div class="image_box">',htmlContent+='<img src="http://museums.bristol.gov.uk/multimedia/entry.php?request=resource&irn='+image+'&height=50&format=jpeg" />',htmlContent+="</div>"),htmlContent+="</div>"},updateOptions:function(options){timeline.setOptions(options)},updateItem:function(options){options.id=$rootScope.selected_t_id,timeline.itemsData.getDataSet().update(options)}}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/timeline/timeline-shopify-services.js","/../components/timeline")},{b55mWE:4,buffer:3}],36:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.users_controller=function($route,$scope,$http,$q,$routeParams,$location,$rootScope,Team){console.log("controller go"),console.log($route.routes),$scope.gridOptions=[],$scope.gridOptions.data=[];var columnDefs=[];columnDefs.push({field:"username",resizable:!0},{field:"password",resizable:!0},{field:"email",resizable:!0},{field:"firstName",resizable:!0},{field:"lastName",resizable:!0},{field:"team",resizable:!0},{field:"group",resizable:!0},{field:"trello_doing_id",resizable:!0},{field:"score",resizable:!0},{field:"bonus",resizable:!0},{field:"leave_start",resizable:!0},{field:"leave_taken",resizable:!0},{field:"number_days_leave",resizable:!0}),$scope.gridOptions={columnDefs:columnDefs,enableGridMenu:!0,enableSelectAll:!0,enableCellSelection:!0,enableCellEditOnFocus:!0,exporterCsvFilename:"myFile.csv",exporterCsvLinkElement:angular.element(document.querySelectorAll(".custom-csv-link-location")),onRegisterApi:function(gridApi){vm.gridApi=gridApi},pagingOptions:{pageSizes:[250,500,1e3],pageSize:250,totalServerItems:0,currentPage:1},exporterPdfDefaultStyle:{fontSize:9},exporterPdfTableStyle:{margin:[30,30,30,30]},exporterPdfTableHeaderStyle:{fontSize:10,bold:!0,italics:!0,color:"red"},exporterPdfHeader:{text:"My Header",style:"headerStyle"},exporterPdfFooter:function(currentPage,pageCount){return{text:currentPage.toString()+" of "+pageCount.toString(),style:"footerStyle"}},exporterPdfCustomFormatter:function(docDefinition){return docDefinition.styles.headerStyle={fontSize:22,bold:!0},docDefinition.styles.footerStyle={fontSize:10,bold:!0},docDefinition},exporterPdfOrientation:"portrait",exporterPdfPageSize:"LETTER",exporterPdfMaxGridWidth:500,exporterCsvLinkElement:angular.element(document.querySelectorAll(".custom-csv-link-location")),onRegisterApi:function(gridApi){$scope.gridApi=gridApi,gridApi.edit.on.afterCellEdit($scope,function(rowEntity,colDef,newValue,oldValue){var myArray=[],key=colDef.field,obj={};obj[key]=newValue,myArray.push(obj);var query={id:rowEntity._id};Team.update(query,obj,function(err,affected,resp){})})}},console.log("getData"),Team.query({},function(team){$scope.rows=[],$scope._rows=[],_.each(team,function(row){console.log(row),$scope._rows.push(row)}),$scope.gridOptions.data=$scope._rows})}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/user-admin/users-controller.js","/../components/user-admin")},{b55mWE:4,buffer:3}],37:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.userAdmin=function(){return{controller:"users_controller",templateUrl:"./components/user-admin/users-page.html"}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../components/user-admin/users-directive.js","/../components/user-admin")},{b55mWE:4,buffer:3}],38:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.ProductDetailsController=function($location,$scope,$routeParams,$http){encodeURIComponent($routeParams.id);$http.get("/api/v1/product/id/"+encoded).success(function(data){$scope.product=data.product}),setTimeout(function(){$scope.$emit("ProductDetailsController")},0)}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/controllers/controllers.js","/controllers")},{b55mWE:4,buffer:3}],39:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.NavController=function($location,AuthService,$scope,$http){$scope.user="not logged in",$scope.$location=$location,$scope.permissions=[],$scope.user_groups=[],$scope.user_groups.AV=[],$scope.user_groups.ADMIN=[],$scope.user_groups.RETAIL=[],$scope.user_groups.DIGITAL=[],$scope.user_groups.DEFAULT=[];var timeline={link:"timeline",value:"timeline"},dead={link:"dead",value:"downtime"},activity={link:"activity",value:"activity"},feedback={link:"feedback",value:"feedback"},tech_support={link:"tech-support",value:"tech-support"},shopify={link:"shopify_app",value:"shopify"},doom={link:"doom",value:"DOOM!"};$scope.user_groups.ADMIN.views=[],$scope.user_groups.ADMIN.views.push(timeline),$scope.user_groups.ADMIN.views.push(dead),$scope.user_groups.ADMIN.views.push(activity),$scope.user_groups.ADMIN.views.push(feedback),$scope.user_groups.ADMIN.views.push(tech_support),$scope.user_groups.ADMIN.views.push(shopify),$scope.user_groups.AV.views=[],$scope.user_groups.AV.views.push(timeline),$scope.user_groups.AV.views.push(dead),$scope.user_groups.AV.views.push(activity),$scope.user_groups.AV.views.push(feedback),$scope.user_groups.AV.views.push(tech_support),$scope.user_groups.DIGITAL.views=[],$scope.user_groups.DIGITAL.views.push(timeline),$scope.user_groups.DIGITAL.views.push(dead),$scope.user_groups.DIGITAL.views.push(activity),$scope.user_groups.DIGITAL.views.push(tech_support),$scope.user_groups.DIGITAL.views.push(shopify),$scope.user_groups.DEFAULT.views=[],$scope.user_groups.DEFAULT.views.push(timeline),$scope.user_groups.RETAIL.views=[],$scope.user_groups.RETAIL.views.push(timeline),$scope.user_groups.RETAIL.views.push(shopify),AuthService.isLoggedIn().then(function(user){user.data.group?(user.data.views=$scope.user_groups[user.data.group].views,"pace"==user.data.lastName.toLowerCase()&&user.data.views.push(doom)):user.data.views=$scope.user_groups.DEFAULT.views,console.log(user),$scope.user=user.data})}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/controllers/navbar-controller.js","/controllers")},{b55mWE:4,buffer:3}],40:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.userMenu=function(){return{controller:"NavController",templateUrl:"./shared/templates/user_menu.html"}}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/directives/directives.js","/directives")},{b55mWE:4,buffer:3}],41:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var underscore=angular.module("underscore",[]),_=require("underscore");underscore.factory("_",["$window",function($window){return $window._}]);var controllers=require("../shared/controllers/controllers"),dead_controllers=require("../components/machine-monitor/dead-controller"),nav_controller=require("../shared/controllers/navbar-controller"),tech_support_controller=require("../components/tech-support/tech-support-controller"),feedback_controllers=(require("../components/machine-monitor/dashboard-controller"),require("../components/machine-monitor/feedback-controller")),satisfaction_controllers=require("../components/machine-monitor/satisfaction-controller"),downtime_controllers=require("../components/machine-monitor/downtime-controller"),app_controllers=require("../components/team/app-controllers"),leave_controllers=require("../components/team/leave-controller"),team_controllers=require("../components/team/team-controller"),member_controllers=require("../components/member/member-controller"),form_controllers=require("../components/team/form-controller"),timeline_controllers=require("../components/timeline/timeline-controller"),shopify_controllers=require("../components/shopify/shopify-controller"),timeline_settings_controller=require("../components/timeline-settings/timeline-settings-controller"),users_controller=require("../components/user-admin/users-controller"),iframe_controller=require("../components/iframe/iframe-controller"),directives=require("../shared/directives/directives"),tech_support_directives=require("../components/tech-support/tech-support-directive"),users_directives=require("../components/user-admin/users-directive"),timeline_directives=require("../components/timeline/timeline-directive"),shopify_directives=require("../components/shopify/shopify-directive"),iframe_directives=require("../components/iframe/iframe-directive"),data_services=require("../shared/services/data-services"),app_services=require("../shared/services/app-services"),timeline_services=require("../components/timeline/timeline-services"),timeline_leave_services=require("../components/timeline/timeline-leave-services"),timeline_shopify_functions=require("../components/timeline/timeline-shopify-services"),timeline_googlesheets_functions=require("../components/timeline/timeline-googlesheets-services"),timeline_learning_services=require("../components/timeline/timeline-learning-bookings-services"),timeline_loans_services=require("../components/timeline/timeline-loans-services"),tech_trello_services=require("../components/tech-support/trello-services"),downtime_services=require("../components/machine-monitor/downtime-services"),feedback_services=require("../components/machine-monitor/feedback-services"),app=angular.module("app",["ng","ngRoute","ngAnimate","ngResource","ngSanitize","angularUtils.directives.dirPagination","underscore","ngScrollbar","ngMaterial","angularGrid","ngSanitize","formly","formlyBootstrap","chart.js","daterangepicker","ngDragDrop","md.data.table","ui.router","ui.grid","ui.grid.selection","ui.grid.exporter","ui.grid.edit","ui.grid.resizeColumns","ngMessages","material.svgAssetsCache"]);
_.each(controllers,function(controller,name){app.controller(name,controller)}),_.each(feedback_controllers,function(controller,name){app.controller(name,controller)}),_.each(satisfaction_controllers,function(controller,name){app.controller(name,controller)}),_.each(dead_controllers,function(controller,name){app.controller(name,controller)}),_.each(nav_controller,function(controller,name){app.controller(name,controller)}),_.each(tech_support_controller,function(controller,name){app.controller(name,controller)}),_.each(downtime_controllers,function(controller,name){app.controller(name,controller)}),_.each(app_controllers,function(controller,name){app.controller(name,controller)}),_.each(leave_controllers,function(controller,name){app.controller(name,controller)}),_.each(team_controllers,function(controller,name){app.controller(name,controller)}),_.each(member_controllers,function(controller,name){app.controller(name,controller)}),_.each(users_controller,function(controller,name){app.controller(name,controller)}),_.each(iframe_controller,function(controller,name){app.controller(name,controller)}),_.each(form_controllers,function(controller,name){app.controller(name,controller)}),_.each(timeline_controllers,function(controller,name){app.controller(name,controller)}),_.each(shopify_controllers,function(controller,name){app.controller(name,controller)}),_.each(timeline_settings_controller,function(controller,name){app.controller(name,controller)}),_.each(directives,function(directive,name){app.directive(name,directive)}),_.each(tech_support_directives,function(directive,name){app.directive(name,directive)}),_.each(users_directives,function(directive,name){app.directive(name,directive)}),_.each(timeline_directives,function(directive,name){app.directive(name,directive)}),_.each(shopify_directives,function(directive,name){app.directive(name,directive)}),_.each(iframe_directives,function(directive,name){app.directive(name,directive)}),_.each(data_services,function(factory,name){app.factory(name,factory)}),_.each(app_services,function(factory,name){app.factory(name,factory)}),_.each(downtime_services,function(factory,name){app.factory(name,factory)}),_.each(feedback_services,function(factory,name){app.factory(name,factory)}),_.each(timeline_services,function(factory,name){app.factory(name,factory)}),_.each(timeline_leave_services,function(factory,name){app.factory(name,factory)}),_.each(timeline_shopify_functions,function(factory,name){app.factory(name,factory)}),_.each(timeline_googlesheets_functions,function(factory,name){app.factory(name,factory)}),_.each(timeline_learning_services,function(factory,name){app.factory(name,factory)}),_.each(timeline_loans_services,function(factory,name){app.factory(name,factory)}),_.each(tech_trello_services,function(factory,name){app.factory(name,factory)}),app.filter("orderByDayNumber",function(){return function(items,field,reverse){var filtered=[];return angular.forEach(items,function(item){filtered.push(item)}),filtered.sort(function(a,b){return a[field]>b[field]?1:-1}),reverse&&filtered.reverse(),filtered}}),app.filter("mapGender",function(){}),app.config(function(formlyConfigProvider){formlyConfigProvider.setType([{name:"radio",overwriteOk:!0,templateUrl:"views/formly-radio.html"},{name:"button",templateUrl:'<button ng-click="options.templateOptions">{{options.label}}</button>'}]),app.config(function($mdIconProvider){$mdIconProvider.iconSet("call","img/icons/sets/communication-icons.svg",24).iconSet("social","img/icons/sets/social-icons.svg",24)}),formlyConfigProvider.setType({name:"input",overwriteOk:!0,template:'<input class="form-control_CHEESE" ng-model="model[options.key]">',wrapper:["helper","bootstrapLabel","bootstrapHasError"]}),formlyConfigProvider.setType({name:"file",templateUrl:"views/formly-file.html"})}),app.config(["$locationProvider",function($locationProvider){$locationProvider.hashPrefix("")}]),app.config(["$qProvider",function($qProvider){$qProvider.errorOnUnhandledRejections(!1)}])}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_bc650211.js","/")},{"../components/iframe/iframe-controller":8,"../components/iframe/iframe-directive":9,"../components/machine-monitor/dashboard-controller":10,"../components/machine-monitor/dead-controller":11,"../components/machine-monitor/downtime-controller":12,"../components/machine-monitor/downtime-services":13,"../components/machine-monitor/feedback-controller":14,"../components/machine-monitor/feedback-services":15,"../components/machine-monitor/satisfaction-controller":16,"../components/member/member-controller":17,"../components/shopify/shopify-controller":18,"../components/shopify/shopify-directive":19,"../components/team/app-controllers":20,"../components/team/form-controller":21,"../components/team/leave-controller":22,"../components/team/team-controller":23,"../components/tech-support/tech-support-controller":24,"../components/tech-support/tech-support-directive":25,"../components/tech-support/trello-services":26,"../components/timeline-settings/timeline-settings-controller":27,"../components/timeline/timeline-controller":28,"../components/timeline/timeline-directive":29,"../components/timeline/timeline-googlesheets-services":30,"../components/timeline/timeline-learning-bookings-services":31,"../components/timeline/timeline-leave-services":32,"../components/timeline/timeline-loans-services":33,"../components/timeline/timeline-services":34,"../components/timeline/timeline-shopify-services":35,"../components/user-admin/users-controller":36,"../components/user-admin/users-directive":37,"../shared/controllers/controllers":38,"../shared/controllers/navbar-controller":39,"../shared/directives/directives":40,"../shared/services/app-services":42,"../shared/services/data-services":43,b55mWE:4,buffer:3,underscore:7}],42:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.date_calc=function($http){var date_calc={},secondDate=(new Date(2008,1,12),new Date);return date_calc.diffDays=function(firstDate){var firstDate=new Date(firstDate);return secondDate.getMonth()-firstDate.getMonth()+12*(secondDate.getFullYear()-firstDate.getFullYear())},date_calc},exports.trello=function($http){var trello={};return trello.auth=function(){var authenticationSuccess=function(){console.log("sucessful authentication");Trello.token();window.location.replace(decodeURIComponent(window.location.hash)),console.log("Successful authentication")},authenticationFailure=function(){alert("Failed authentication")};Trello.authorize({type:"redirect",name:"Bristol Culture Trello Monitor",scope:{read:"true",write:"true"},expiration:"never",success:authenticationSuccess,error:authenticationFailure})},trello},exports.get_trello_board=function(Team,Tallys,date_calc,$http,$rootScope){var trello=[];return trello.get_data=function(listx){return Trello.get("lists/"+listx.id+"/cards",function(cards){var list=[];list._cards=[],tally=0,card_count=0,angular.forEach(cards,function(card,index){card_count++,card_to_print={name:card.name,tint:1-date_calc.diffDays(card.dateLastActivity)/10,age:date_calc.diffDays(card.dateLastActivity).toString(),dateLastActivity:card.dateLastActivity},tally+=date_calc.diffDays(card.dateLastActivity),list._cards.push(card_to_print)}),list.average=(tally/card_count).toFixed(2),list.tint=list.average/100,list.card_count=card_count,list.points=(card_count/(list.average/1+1)).toFixed(2),Team.query({},function(_team){_.each(_team,function(row){if(row.name==listx.title){var tally=new Tallys({name:listx.title,date:new Date,points:list.points});tally.$save();var team=Team.get({id:row._id});team.name=list.title,team.score=list.points,team.card_count=list.card_count,team.bonus="",teampenalty=list.average,$id=row._id,Team.update({id:$id},team),$rootScope.message="update"}})}),console.log("end of service")}).then(function(response){return response})},trello},exports.detect_dragging=function($rootScope){var detect_dragging=[];$rootScope.isDragging=!1;var currentPos=[];return detect_dragging.drag_handler=function(){$("md-content").on("mousedown",function(evt){currentPos=[evt.pageX,evt.pageY],$("md-content").on("mousemove",function handler(evt){currentPos=[evt.pageX,evt.pageY],$("#content-scroller").off("mousemove",handler)}),$("md-content").on("mouseup",function handler(evt){evt.pageX+evt.pageY==currentPos[0]+currentPos[1]?(console.log("clicking"),$rootScope.isDragging=!1):($rootScope.isDragging=!0,console.log("dragging")),$("md-content").off("mouseup",handler)})})},detect_dragging},exports.screen_saver_loop=function($rootScope,$location,$interval,Team){function switchview(i){var videoElement=$("iframe").contents().find("video").get(0);if(!audioplayer)var audioplayer="";audioplayer.paused;(videoElement&&!videoElement.paused||audioplayer)&&1!=audioplayer.paused?console.log("video playing..cancel"):($rootScope.updateInterval,console.log(i),i>=screensaver.length&&(i=0,$rootScope.i=0),$location.path(currentView[$rootScope.i]),$rootScope.i++)}var sharedService={},team_list=[],support_list=[],roadmap_list=[],list=[];list.title="BMAG DIGITAL SUPPORT",list.id="56051e0244bb2e4efc9e6e99",support_list.push(list);var list=[];list.title="MSHED DIGITAL SUPPORT",list.id="562667caadda958dad274f22",support_list.push(list);var list=[];list.title="ZAHID",list.id="5257d4e719e0ee3b5800009c",team_list.push(list);var list=[];list.title="DARREN",list.id="55cdc7672fff3ffc946f6e94",team_list.push(list);var list=[];list.title="TOM",list.id="563234399bfcf125dc06f03b",team_list.push(list);var list=[];list.title="LACEY",list.id="57f3b32311fbe4f9966de748",team_list.push(list);var list=[];list.title="FAY",list.id="53344421ba92789d64cf8f99",team_list.push(list);var list=[];list.title="MARK",list.id="5790fb082acddb2d98c04826",team_list.push(list);var list=[];list.title="DAVID",list.id="52c3f521160978433b073a9b",team_list.push(list);var list=[];list.title="Q3",list.id="5763ca5d82c12dc42e874e0a",roadmap_list.push(list);var list=[];list.title="Q4",list.id="5763ca6c8981e9d4c9da0e23",roadmap_list.push(list),$rootScope.team=team_list,$rootScope.support=support_list,$rootScope.roadmap=roadmap_list;var currentView=["/a/team","/a/support","/a/roadmap","/board"];$rootScope.i=0;return sharedService.start_screen_saver=function(){$interval.cancel($rootScope.timer),"/screen_saver_images"!=$location.path()&&($rootScope.screensaver_on=!0,$rootScope.timer=$interval(function(){switchview($rootScope.i)},3e5))},sharedService.screensaverOff=function(){$rootScope.screensaver_on=!1,$interval.cancel($rootScope.timer),console.log("screensaver off")},sharedService}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/services/app-services.js","/services")},{b55mWE:4,buffer:3}],43:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("http-status");exports.shopify_app=function($resource){return $resource("/shopify_product_status_app",{},{getData:{method:"GET",isArray:!0}})},exports.AuthService=function($http){var currentUser;return{login:function(){},logout:function(){},isLoggedIn:function(){return $http.get("/user_data")},currentUser:function(){$http.get("/user_data").then(function(result){currentUser=result})}}},exports.Tallys=function($resource){return $resource("/tallys/:id",null,{update:{method:"PUT"}})},exports.Timeline=function($resource){return $resource("/timeline/:id",null,{update:{method:"PUT"}})},exports.delete_leave_by_id=function(Team,$rootScope){var delete_leave_by_id={};return delete_leave_by_id._delete=function(leave_id){ids_to_delete=[],ids_to_delete.push(leave_id),Team.query({},function(team){_.each(team,function(_team,i){console.log("before",team[i].leave_taken),new_leave=[],new_ids=[],_.each(team[i].leave_taken,function(leave_me,index){ids_to_delete.indexOf(leave_me._id)==-1&&new_ids.indexOf(leave_me._id)==-1&&(new_leave.push(leave_me),new_ids.push(leave_me._id))}),team[i].leave_taken=new_leave,console.log("after",team[i].leave_taken),Team.update({id:_team._id},team[i]),$rootScope.me_Data=team[i]})})},delete_leave_by_id},exports.Tech_support=function($resource){return $resource("/tech_support/:id",null,{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},update:{method:"PUT"},"delete":{method:"DELETE"}})},exports.log_messages=function($resource){return $resource("/logging_messages/:id",null,{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},update:{method:"PUT"},"delete":{method:"DELETE"}})},exports.Leave=function($resource){return $resource("/leave/:id",null,{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},update:{method:"PUT"},"delete":{method:"DELETE"}})},exports.Shopify_aggregate=function($resource){return $resource("/shopify_aggregate/:id",null,{get:{method:"GET"}})},exports.Timeline_data=function($resource){return $resource("/timeline_data_settings/:id",null,{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},update:{method:"PUT"},"delete":{method:"DELETE"}})},exports.Timeline=function($resource){return $resource("/timeline/:id",null,{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},update:{method:"PUT"},"delete":{method:"DELETE"}})},exports.Team=function($resource){return $resource("/team/:id",null,{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},update:{method:"PUT"},"delete":{method:"DELETE"}})},exports.Todos=function($resource){return $resource("/todos/:id",null,{update:{method:"PUT"}})}}).call(this,require("b55mWE"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/services/data-services.js","/services")},{b55mWE:4,buffer:3,"http-status":5}]},{},[41]);